
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Qcert.Translation.CldMRtoCloudant</title>
<meta name="description" content="Documentation of Coq module Qcert.Translation.CldMRtoCloudant" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Qcert.Translation.CldMRtoCloudant</h1>
<div class="coq">
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Utils.Utils.html">Utils</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Common.CommonRuntime.html">CommonRuntime</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Translation.ForeignToJavaScript.html">ForeignToJavaScript</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.CldMR.Lang.ForeignCloudant.html">ForeignCloudant</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.NNRC.NNRCRuntime.html">NNRCRuntime</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.CldMR.CldMRRuntime.html">CldMRRuntime</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Cloudant.CloudantRuntime.html">CloudantRuntime</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html">NNRCtoJavaScript</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CldMRtoCloudant">CldMRtoCloudant</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">fruntime</span>:<span class="id"><a href="Qcert.Common.ForeignRuntime.html#foreign_runtime">foreign_runtime</a></span>}.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">ftojavascript</span>:<span class="id"><a href="Qcert.Translation.ForeignToJavaScript.html#foreign_to_javascript">foreign_to_javascript</a></span>}.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">fcloudant</span>:<span class="id"><a href="Qcert.CldMR.Lang.ForeignCloudant.html#foreign_cloudant">foreign_cloudant</a></span>}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="CldMRtoCloudant.MRJS">MRJS</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="emitIdToString">emitIdToString</a></span> (<span class="id">vkey</span> <span class="id">vout</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"  <span class="id">emit</span>(" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vkey">vkey</a></span> ++ ", " ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vout">vout</a></span> ++ ");" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="emitConstIdToString">emitConstIdToString</a></span> (<span class="id">n</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">vkey</span> <span class="id">vout</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"  <span class="id">emit</span>(" ++ (<span class="id"><a href="Qcert.Utils.Digits.html#nat_to_string10">nat_to_string10</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#n">n</a></span>) ++ ", " ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vout">vout</a></span> ++ ");" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="emitConstToString">emitConstToString</a></span> (<span class="id">n</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">vkey</span> <span class="id">vout</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"  <span class="kwd">for</span> (<span class="id">var</span> <span class="id">srcout</span>="<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vout">vout</a></span> ++ ", <span class="id">iout</span>=0; <span class="id">iout</span>&lt;" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vout">vout</a></span> ++ ".<span class="id">length</span>; <span class="id">iout</span>++) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "    <span class="id">emit</span>(" ++ (<span class="id"><a href="Qcert.Utils.Digits.html#nat_to_string10">nat_to_string10</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#n">n</a></span>) ++ ",<span class="id">srcout</span>[<span class="id">iout</span>]);" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  }" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="emitInventToString">emitInventToString</a></span> (<span class="id">vkey</span> <span class="id">vout</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"  <span class="kwd">for</span> (<span class="id">var</span> <span class="id">srcout</span>="<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vout">vout</a></span> ++ ", <span class="id">iout</span>=0; <span class="id">iout</span>&lt;" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vout">vout</a></span> ++ ".<span class="id">length</span>; <span class="id">iout</span>++) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "    <span class="id">emit</span>(" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vkey">vkey</a></span> ++ ".<span class="id">concat</span>(<span class="id">iout</span>),<span class="id">srcout</span>[<span class="id">iout</span>]);" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  }" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="createMapFunFirst">createMapFunFirst</a></span> (<span class="id">v_map</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">e</span>:<span class="id"><a href="Qcert.NNRC.Lang.NNRC.html#nnrc">nnrc</a></span>) (<span class="id">emitString</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">j0</span>, <span class="id">v0</span>, <span class="id">t0</span>) := <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#nnrcToJSunshadow">nnrcToJSunshadow</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e">e</a></span> 1 1 <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#v_map">v_map</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) ((<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#v_map">v_map</a></span>,"<span class="id">doc</span>")::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">function</span> (<span class="id">doc</span>) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">v0</span> = <span class="id">null</span>;" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">key</span> = <span class="id">doc._id</span>;" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">doc</span> = <span class="id">unwrap</span>(<span class="id">doc</span>);" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="kwd">if</span> (<span class="id">doc</span> != <span class="id">null</span>) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">j0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">out</span> = " ++ <span class="id">v0</span> ++ ";" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitString">emitString</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  }"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="kwd">if</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="kwd">then</span> " %<span class="id">HARNESS</span>% " <span class="kwd">else</span> "")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "}".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="createMapFunRest">createMapFunRest</a></span> (<span class="id">v_map</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">e</span>:<span class="id"><a href="Qcert.NNRC.Lang.NNRC.html#nnrc">nnrc</a></span>) (<span class="id">emitString</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">j0</span>, <span class="id">v0</span>, <span class="id">t0</span>) := <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#nnrcToJSunshadow">nnrcToJSunshadow</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e">e</a></span> 1 1 <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#v_map">v_map</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) ((<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#v_map">v_map</a></span>,"<span class="id">doc</span>")::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">function</span> (<span class="id">doc</span>) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">v0</span> = <span class="id">null</span>;" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">key</span> = <span class="id">doc.key</span>;" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">doc</span> = <span class="id">doc.value</span>;" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">j0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="id">var</span> <span class="id">out</span> = " ++ <span class="id">v0</span> ++ ";" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitString">emitString</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="kwd">if</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="kwd">then</span> " %<span class="id">HARNESS</span>% " <span class="kwd">else</span> "")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "}".<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrcToJSMapFirst">nnrcToJSMapFirst</a></span> (<span class="id">cldmap</span>:<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cld_map">cld_map</a></span>) (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#map_fun">map_fun</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldMapId">CldMapId</a></span> (<span class="id">v_map</span>, <span class="id">e</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#map_emit">map_emit</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitDist">CldEmitDist</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunFirst">createMapFunFirst</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitIdToString">emitIdToString</a></span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitCollect">CldEmitCollect</a></span> <span class="id">index</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunFirst">createMapFunFirst</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitConstIdToString">emitConstIdToString</a></span> <span class="id">index</span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldMapFlatten">CldMapFlatten</a></span> (<span class="id">v_map</span>, <span class="id">e</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#map_emit">map_emit</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitDist">CldEmitDist</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunFirst">createMapFunFirst</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitInventToString">emitInventToString</a></span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitCollect">CldEmitCollect</a></span> <span class="id">index</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunFirst">createMapFunFirst</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitConstToString">emitConstToString</a></span> <span class="id">index</span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrcToJSMapRest">nnrcToJSMapRest</a></span> (<span class="id">cldmap</span>:<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cld_map">cld_map</a></span>) (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#map_fun">map_fun</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldMapId">CldMapId</a></span> (<span class="id">v_map</span>, <span class="id">e</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#map_emit">map_emit</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitDist">CldEmitDist</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunRest">createMapFunRest</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitIdToString">emitIdToString</a></span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitCollect">CldEmitCollect</a></span> <span class="id">index</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunRest">createMapFunRest</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitConstIdToString">emitConstIdToString</a></span> <span class="id">index</span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldMapFlatten">CldMapFlatten</a></span> (<span class="id">v_map</span>, <span class="id">e</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#map_emit">map_emit</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitDist">CldEmitDist</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunRest">createMapFunRest</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitInventToString">emitInventToString</a></span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldEmitCollect">CldEmitCollect</a></span> <span class="id">index</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#createMapFunRest">createMapFunRest</a></span> <span class="id">v_map</span> <span class="id">e</span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#emitConstToString">emitConstToString</a></span> <span class="id">index</span> "<span class="id">key</span>" "<span class="id">out</span>" <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrcToJSReduce">nnrcToJSReduce</a></span> (<span class="id">e1</span>:<span class="id"><a href="Qcert.NNRC.Lang.NNRC.html#nnrc">nnrc</a></span>) (<span class="id">e2</span>:<span class="id"><a href="Qcert.NNRC.Lang.NNRC.html#nnrc">nnrc</a></span>) (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">values_iv</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">j0</span>, <span class="id">v0</span>, <span class="id">t0</span>) := <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#nnrcToJSunshadow">nnrcToJSunshadow</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e1">e1</a></span> 1 1 <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#values_iv">values_iv</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) ((<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#values_iv">values_iv</a></span>,"<span class="id">values</span>")::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">j1</span>, <span class="id">v1</span>, <span class="id">t1</span>) := <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#nnrcToJSunshadow">nnrcToJSunshadow</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e2">e2</a></span> <span class="id">t0</span> 1 <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#values_iv">values_iv</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) ((<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#values_iv">values_iv</a></span>,"<span class="id">values</span>")::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">function</span> (<span class="id">keys</span>, <span class="id">values</span>, <span class="id">rereduce</span>) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="kwd">if</span> (<span class="id">rereduce</span>) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">j1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "    <span class="kwd">return</span> " ++ <span class="id">v1</span> ++ ";" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  }" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  <span class="kwd">else</span> {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">j0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "    <span class="kwd">return</span> " ++ <span class="id">v0</span> ++ ";" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "  }" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ (<span class="kwd">if</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="kwd">then</span> " %<span class="id">HARNESS</span>% " <span class="kwd">else</span> "")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "}".<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="idJSReduce">idJSReduce</a></span> (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">function</span> (<span class="id">keys</span>, <span class="id">values</span>, <span class="id">rereduce</span>) {" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "   <span class="kwd">return</span> <span class="id">values</span>[0];" ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "}".<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrcToJSDefault">nnrcToJSDefault</a></span> (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">e_def</span>:<span class="id"><a href="Qcert.NNRC.Lang.NNRC.html#nnrc">nnrc</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">j0</span>, <span class="id">v0</span>, <span class="id">t0</span>) := <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#nnrcToJSunshadow">nnrcToJSunshadow</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e_def">e_def</a></span> 1 1 <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#nnrcToJSFunStub">nnrcToJSFunStub</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e_def">e_def</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> "<span class="id">db_default</span>".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrcToJSGen">nnrcToJSGen</a></span> (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">e_closure</span>:(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Common.Env.RVar.html#var">var</a></span>) * <span class="id"><a href="Qcert.NNRC.Lang.NNRC.html#nnrc">nnrc</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">params</span>, <span class="id">e</span>) := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e_closure">e_closure</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#nnrcToJSFunStub">nnrcToJSFunStub</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e">e</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#params">params</a></span> "<span class="id">db_post</span>".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="mapReduceStringstoJS_pair">mapReduceStringstoJS_pair</a></span> (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">index</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">mr</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mr">mr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">i</span>,<span class="id">o</span>,<span class="id">def</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>,<span class="id">m</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">iname</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">i</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; "<span class="id">INPUT</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">oname</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">o</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; "<span class="id">RESULT</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"// <span class="id">Input</span> <span class="id">DB</span>: " ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#iname">iname</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "// <span class="id">Output</span> <span class="id">DB</span>: " ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#oname">oname</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "// <span class="id">Map</span> <span class="id">Nb</span> " ++ (<span class="id"><a href="Qcert.Utils.Digits.html#nat_to_string10">nat_to_string10</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#index">index</a></span>) ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> ++ <span class="id">m</span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">i</span>,<span class="id">o</span>,<span class="id">def</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">r</span>, <span class="id">m</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">iname</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">i</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; "<span class="id">INPUT</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">oname</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">o</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; "<span class="id">RESULT</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"// <span class="id">Input</span> <span class="id">DB</span>: " ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#iname">iname</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "// <span class="id">Output</span> <span class="id">DB</span>: " ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#oname">oname</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "// <span class="id">Map</span> <span class="id">Nb</span> " ++ (<span class="id"><a href="Qcert.Utils.Digits.html#nat_to_string10">nat_to_string10</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#index">index</a></span>) ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> ++ <span class="id">m</span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ "// <span class="id">Reduce</span> <span class="id">Nb</span> " ++ (<span class="id"><a href="Qcert.Utils.Digits.html#nat_to_string10">nat_to_string10</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#index">index</a></span>) ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> ++ <span class="id">r</span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="mapReduceStringstoJS">mapReduceStringstoJS</a></span> (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">mrp</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_right">fold_right</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#append">append</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mapReduceStringstoJS_pair">mapReduceStringstoJS_pair</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#y">y</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#y">y</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#y">y</a></span>))) ("",0) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrp">mrp</a></span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#CldMRtoCloudant.MRJS">MRJS</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="CldMRtoCloudant.CloudantJS">CloudantJS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="cldmrToJS">cldmrToJS</a></span> (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">ini</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">mr</span>:<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_step">cldmr_step</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">v_input</span> := <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_step_input">cldmr_step_input</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mr">mr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">vs_input</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#v_input">v_input</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">cldmap</span> := <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_step_map">cldmr_step_map</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mr">mr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">clddefault</span> := <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_step_reduce_default">cldmr_step_reduce_default</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mr">mr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">map_string</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#ini">ini</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#nnrcToJSMapFirst">nnrcToJSMapFirst</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#nnrcToJSMapRest">nnrcToJSMapRest</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmap">cldmap</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">default_string</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#clddefault">clddefault</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">clddef</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#nnrcToJSDefault">nnrcToJSDefault</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id">clddef</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_step_reduce">cldmr_step_reduce</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mr">mr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_input">vs_input</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#default_string">default_string</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#map_string">map_string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">mred</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">v_output</span> := <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#reduce_output">reduce_output</a></span> <span class="id">mred</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">vs_output</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#v_output">v_output</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">mred</span>.(<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#reduce_fun">reduce_fun</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedId">CldRedId</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">reduce_string</span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#idJSReduce">idJSReduce</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_input">vs_input</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_output">vs_output</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#default_string">default_string</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#reduce_string">reduce_string</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#map_string">map_string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedAggregate">CldRedAggregate</a></span> (<span class="id">vs_reduce</span>, <span class="id">f_reduce</span>) (<span class="id">v_rereduce</span>, <span class="id">f_rereduce</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">v_key</span>, <span class="id">v_reduce</span>) := <span class="id">vs_reduce</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">reduce_string</span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#nnrcToJSReduce">nnrcToJSReduce</a></span> <span class="id">f_reduce</span> <span class="id">f_rereduce</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#v_reduce">v_reduce</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_input">vs_input</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_output">vs_output</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#default_string">default_string</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#reduce_string">reduce_string</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#map_string">map_string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedOp">CldRedOp</a></span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedOpCount">CldRedOpCount</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_input">vs_input</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_output">vs_output</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#default_string">default_string</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> "<span class="id">_count</span>", <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#map_string">map_string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedOp">CldRedOp</a></span> (<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedOpSum">CldRedOpSum</a></span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_input">vs_input</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_output">vs_output</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#default_string">default_string</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> "<span class="id">_sum</span>", <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#map_string">map_string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedOp">CldRedOp</a></span> (<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#CldRedOpStats">CldRedOpStats</a></span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_input">vs_input</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#vs_output">vs_output</a></span>, <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#default_string">default_string</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> "<span class="id">_stats</span>", <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#map_string">map_string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="cld_mr_chainToJS">cld_mr_chainToJS</a></span> (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">mrl</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_step">cldmr_step</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrl">mrl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">mr1</span> :: <span class="id">mrl</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmrToJS">cldmrToJS</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id">mr1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cldmrToJS">cldmrToJS</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>) <span class="id">mrl</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="cld_mrToJS">cld_mrToJS</a></span> (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">mrl</span>:<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr">cldmr</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_mr_chainToJS">cld_mr_chainToJS</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrl">mrl</a></span>.(<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_chain">cldmr_chain</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="cld_mrToLastJS">cld_mrToLastJS</a></span> (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">harness</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">eol</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">e_closure</span>: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Common.Env.RVar.html#var">var</a></span>) * <span class="id"><a href="Qcert.NNRC.Lang.NNRC.html#nnrc">nnrc</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#nnrcToJSGen">nnrcToJSGen</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#harness">harness</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#e_closure">e_closure</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#eol">eol</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="buildDesignDoc">buildDesignDoc</a></span> (<span class="id">view_name</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">s_map</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">s_reduce</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">s_dboutput</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">s_dbdefault</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">dmap</span> := ("<span class="id">map</span>", <span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#s_map">s_map</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">dreduce</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#s_reduce">s_reduce</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s_r</span> =&gt; ("<span class="id">reduce</span>", <span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> <span class="id">s_r</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">dbcopy</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#s_dboutput">s_dboutput</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s_db</span> =&gt; ("<span class="id">dbcopy</span>", <span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#view_name">view_name</a></span> ++ <span class="id">s_db</span>))::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">dbdefault</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#s_dbdefault">s_dbdefault</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">s_dbd</span> =&gt; ("<span class="id">dbdefault</span>", <span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> <span class="id">s_dbd</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> (("<span class="id">views</span>", <span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> ((<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#view_name">view_name</a></span>, <span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#dmap">dmap</a></span>::(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app">List.app</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#dreduce">dreduce</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app">List.app</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#dbcopy">dbcopy</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#dbdefault">dbdefault</a></span>))))::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="db_of_var">db_of_var</a></span> (<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">var</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> ++ <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#var">var</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="makeInputDB">makeInputDB</a></span> (<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">ins</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#ins">ins</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> =&gt; <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#db_of_var">db_of_var</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="makeInputDesignDoc">makeInputDesignDoc</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">mrp</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#cloudant_design">cloudant_design</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrp">mrp</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">inputdb</span>, <span class="id">outputdb</span>, <span class="id">defaultdb</span>, <span class="id">mreduce</span>, <span class="id">mmap</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">view_name</span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="kwd">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#mkCloudantDesign">mkCloudantDesign</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#makeInputDB">makeInputDB</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#view_name">view_name</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#dataToJS">dataToJS</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#buildDesignDoc">buildDesignDoc</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#view_name">view_name</a></span> <span class="id">mmap</span> <span class="id">mreduce</span> <span class="id">outputdb</span> <span class="id">defaultdb</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="makeDesignDoc">makeDesignDoc</a></span> (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">mrp</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#cloudant_design">cloudant_design</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrp">mrp</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">inputdb</span>, <span class="id">outputdb</span>, <span class="id">defaultdb</span>, <span class="id">mreduce</span>, <span class="id">mmap</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">view_name</span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="kwd">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#mkCloudantDesign">mkCloudantDesign</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#makeInputDB">makeInputDB</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id">inputdb</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#view_name">view_name</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#dataToJS">dataToJS</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#buildDesignDoc">buildDesignDoc</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#view_name">view_name</a></span> <span class="id">mmap</span> <span class="id">mreduce</span> <span class="id">outputdb</span> <span class="id">defaultdb</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="makeCloudantDesignDocs">makeCloudantDesignDocs</a></span> (<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">mrp</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#cloudant_design">cloudant_design</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#makeDesignDoc">makeDesignDoc</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#x">x</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrp">mrp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="makeCloudantDesignDocsTop">makeCloudantDesignDocsTop</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">quotel</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">mrp</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">last_expr</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cld_eff</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#cloudant">cloudant</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrp">mrp</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#mkCloudant">mkCloudant</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#last_expr">last_expr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_eff">cld_eff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">x</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#mkCloudant">mkCloudant</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#makeInputDesignDoc">makeInputDesignDoc</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id">x</span>) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#last_expr">last_expr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_eff">cld_eff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">x</span> :: <span class="id">mrp</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#mkCloudant">mkCloudant</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#makeInputDesignDoc">makeInputDesignDoc</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#makeCloudantDesignDocs">makeCloudantDesignDocs</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#quotel">quotel</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id">mrp</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#last_expr">last_expr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_eff">cld_eff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="makeOneCurl">makeOneCurl</a></span> (<span class="id">mrp</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrp">mrp</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">dbname</span>,<span class="id">design</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">curl</span> -<span class="id">X</span> <span class="id">PUT</span> ""<span class="id">https</span>://<span class="id">fe0a4004</span>-9<span class="id">ff8</span>-4<span class="id">bc4</span>-9<span class="id">de8</span>-906<span class="id">e1831cc78</span>-<span class="id">bluemix</span>:8<span class="id">a67972aa73304b3b7cc9b0cc4525d2e6c26988dd08c787ae29d5d68079c0b54</span>@<span class="id">fe0a4004</span>-9<span class="id">ff8</span>-4<span class="id">bc4</span>-9<span class="id">de8</span>-906<span class="id">e1831cc78</span>-<span class="id">bluemix.cloudant.com</span>/" ++ <span class="id">dbname</span> ++ "/<span class="id">_design</span>/" ++ <span class="id">dbname</span> ++ """ -<span class="id">H</span> '<span class="id">Content</span>-<span class="id">type</span>: <span class="id">application</span>/<span class="id">json</span>' -<span class="id">d</span> '" ++ <span class="id">design</span> ++ "'" ++ <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#eol_newline">eol_newline</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="mapReduceStringstoDesignDocs">mapReduceStringstoDesignDocs</a></span> (<span class="id">mrp</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">last_expr</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">cld_eff</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#cloudant">cloudant</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#makeCloudantDesignDocsTop">makeCloudantDesignDocsTop</a></span> <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#quotel_double">quotel_double</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrp">mrp</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#last_expr">last_expr</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_eff">cld_eff</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="cld_mrParamsLast">cld_mrParamsLast</a></span> (<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">params</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Common.Env.RVar.html#var">var</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#db_of_var">db_of_var</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span>) <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#params">params</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="cldmr_to_cloudant_top">cldmr_to_cloudant_top</a></span> (<span class="id">h</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>)) (<span class="id">mrl</span> : <span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr">cldmr</a></span>) (<span class="id">rulename</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) : <span class="id"><a href="Qcert.Cloudant.Lang.Cloudant.html#cloudant">cloudant</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">mrpl</span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_mrToJS">cld_mrToJS</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#eol_backn">eol_backn</a></span> <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#quotel_double">quotel_double</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrl">mrl</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">last_fun</span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_mrToLastJS">cld_mrToLastJS</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#h">h</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#eol_backn">eol_backn</a></span> <span class="id"><a href="Qcert.Translation.NNRCtoJavaScript.html#quotel_backdouble">quotel_backdouble</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrl">mrl</a></span>.(<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_last">cldmr_last</a></span>))) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">cld_eff_params</span> := <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_mrParamsLast">cld_mrParamsLast</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrl">mrl</a></span>.(<span class="id"><a href="Qcert.CldMR.Lang.CldMR.html#cldmr_last">cldmr_last</a></span>))) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mapReduceStringstoDesignDocs">mapReduceStringstoDesignDocs</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#mrpl">mrpl</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#last_fun">last_fun</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#cld_eff_params">cld_eff_params</a></span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#rulename">rulename</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#CldMRtoCloudant.CloudantJS">CloudantJS</a></span>.<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="Qcert.Translation.CldMRtoCloudant.html#CldMRtoCloudant">CldMRtoCloudant</a></span>.<br/>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
