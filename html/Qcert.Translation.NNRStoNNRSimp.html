
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Qcert.Translation.NNRStoNNRSimp</title>
<meta name="description" content="Documentation of Coq module Qcert.Translation.NNRStoNNRSimp" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Qcert.Translation.NNRStoNNRSimp</h1>
<div class="coq">
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html">Bool</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html">EquivDec</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html">Morphisms</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Sorting.Permutation.html">Permutation</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Eqdep_dec.html">Eqdep_dec</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="kwd">Program</span>.    <br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Utils.Utils.html">Utils</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Data.DataRuntime.html">DataRuntime</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.NNRS.NNRSRuntime.html">NNRSRuntime</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.NNRSimp.NNRSimpRuntime.html">NNRSimpRuntime</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html">NNRSCrossShadow</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Utils.Fresh.html">Fresh</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="NNRStoNNRSimp">NNRStoNNRSimp</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">fruntime</span>:<span class="id"><a href="Qcert.Data.ForeignRuntime.html#foreign_runtime">foreign_runtime</a></span>}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> (<span class="id">e</span>: <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_expr">nnrs_expr</a></span>) : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#e">e</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSGetConstant">NNRSGetConstant</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpGetConstant">NNRSimpGetConstant</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSVar">NNRSVar</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpVar">NNRSimpVar</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSConst">NNRSConst</a></span> <span class="id">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpConst">NNRSimpConst</a></span> <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSBinop">NNRSBinop</a></span> <span class="id">bop</span> <span class="id">e</span>₁ <span class="id">e</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpBinop">NNRSimpBinop</a></span> <span class="id">bop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>₂)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSUnop">NNRSUnop</a></span> <span class="id">uop</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpUnop">NNRSimpUnop</a></span> <span class="id">uop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSGroupBy">NNRSGroupBy</a></span> <span class="id">g</span> <span class="id">sl</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpGroupBy">NNRSimpGroupBy</a></span> <span class="id">g</span> <span class="id">sl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_expr_to_nnrs_imp_expr_correct">nnrs_expr_to_nnrs_imp_expr_correct</a></span> (<span class="id">e</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_expr">nnrs_expr</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">h</span> σ<span class="id">c</span> σ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval">nnrs_expr_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> σ <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#e">e</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_expr_eval">nnrs_imp_expr_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#e">e</a></span>) .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3941')">Proof.</div>
<div class="proofscript" id="proof3941">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span>; <span class="tactic">intros</span> <span class="id">h</span> σ<span class="id">c</span> σ; <span class="tactic">simpl</span>; <span class="tactic">trivial</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">IHe</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">IHe1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">IHe2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> (<span class="id">s</span>: <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_stmt">nnrs_stmt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSSeq">NNRSSeq</a></span> <span class="id">s</span>₁ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpSeq">NNRSimpSeq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₂)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSLet">NNRSLet</a></span> <span class="id">v</span> <span class="id">e</span> <span class="id">s</span>₀ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpLet">NNRSimpLet</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₀)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSLetMut">NNRSLetMut</a></span> <span class="id">v</span> <span class="id">s</span>₁ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpLet">NNRSimpLet</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpSeq">NNRSimpSeq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₂))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSLetMutColl">NNRSLetMutColl</a></span> <span class="id">v</span> <span class="id">s</span>₁ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpLet">NNRSimpLet</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpUnop">NNRSimpUnop</a></span> <span class="id"><a href="Qcert.Data.Operators.UnaryOperators.html#OpDistinct">OpDistinct</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpConst">NNRSimpConst</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpSeq">NNRSimpSeq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₂))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSAssign">NNRSAssign</a></span> <span class="id">v</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpAssign">NNRSimpAssign</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSPush">NNRSPush</a></span> <span class="id">v</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpAssign">NNRSimpAssign</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpBinop">NNRSimpBinop</a></span> <span class="id"><a href="Qcert.Data.Operators.BinaryOperators.html#OpBagUnion">OpBagUnion</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpVar">NNRSimpVar</a></span> <span class="id">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpUnop">NNRSimpUnop</a></span> <span class="id"><a href="Qcert.Data.Operators.UnaryOperators.html#OpBag">OpBag</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSFor">NNRSFor</a></span> <span class="id">v</span> <span class="id">e</span> <span class="id">s</span>₀ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpFor">NNRSimpFor</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₀)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSIf">NNRSIf</a></span> <span class="id">e</span> <span class="id">s</span>₁ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpIf">NNRSimpIf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₂)           <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#NNRSEither">NNRSEither</a></span> <span class="id">e</span> <span class="id">x</span>₁ <span class="id">s</span>₁ <span class="id">x</span>₂ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpEither">NNRSimpEither</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span>₁ (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span>₂ (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>₂)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrs_to_nnrs_imp">nnrs_to_nnrs_imp</a></span> (<span class="id">s</span>: <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs">nnrs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrs_to_nnrs_imp_top">nnrs_to_nnrs_imp_top</a></span> (<span class="id">sep</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">s</span>: <span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs">nnrs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp">nnrs_to_nnrs_imp</a></span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html#nnrs_uncross_shadow">nnrs_uncross_shadow</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#sep">sep</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="pd_bindings">pd_bindings</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Qcert.Data.Model.Data.html#data">data</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="mc_bindings">mc_bindings</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Data.Model.Data.html#data">data</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="md_bindings">md_bindings</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Qcert.Data.Model.Data.html#data">data</a></span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> {σ₁ σ₂} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span> σ₁ σ₂ -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">h</span> σ<span class="id">c</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval">nnrs_imp_stmt_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> σ₁) (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval">nnrs_imp_stmt_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> σ₂).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3942')">Proof.</div>
<div class="proofscript" id="proof3942">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ceq</span> <span class="id">h</span> σ<span class="id">c</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> σ₁ σ₂ <span class="id">ceq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nnrs_imp_stmt_cases</span> (<span class="tactic">induction</span> <span class="id">s</span>) <span class="id">Case</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">simpl</span>; <span class="tactic">intros</span> σ₁ σ₂ <span class="id">ceq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpSkip</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpSeq</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">IHs1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">ceq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">ceq1</span>; <span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">ceq1</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpAssign</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_lookup_equiv">grouped_equiv_lookup_equiv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span>, <span class="id"><a href="Qcert.Utils.CoqLibAdd.html#string_eqdec">string_eqdec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">match_destr</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_update_first">grouped_equiv_update_first</a></span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpLet</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_lookup_equiv">grouped_equiv_lookup_equiv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_expr_eval">nnrs_imp_expr_eval</a></span> <span class="id">h</span> σ<span class="id">c</span> σ₂ <span class="id">n</span>); <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">ceq1cons</span>: <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span> ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ₁) ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ₂)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons">grouped_equiv_cons</a></span>; <span class="tactic">trivial</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq1cons</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs</span>; <span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>; <span class="id">invcs</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>'; <span class="id">invcs</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs</span>; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span> (<span class="id">ceq1cons</span>: <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span> ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)::σ₁) ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)::σ₂)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons">grouped_equiv_cons</a></span>; <span class="tactic">trivial</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq1cons</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs</span>; <span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>; <span class="id">invcs</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>'; <span class="id">invcs</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs</span>; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpFor</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_lookup_equiv">grouped_equiv_lookup_equiv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">d</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">n</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> σ₁ σ₂ <span class="id">ceq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">intros</span> σ₁ σ₂ <span class="id">ceq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span> (<span class="id">ceq1cons</span>: <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span> ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span>)::σ₁) ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span>)::σ₂)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons">grouped_equiv_cons</a></span>; <span class="tactic">trivial</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq1cons</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs</span>; <span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>; <span class="id">invcs</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>'; <span class="id">invcs</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHs</span> <span class="kwd">as</span> [? <span class="id">IHs</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpIf</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_lookup_equiv">grouped_equiv_lookup_equiv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_destr</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">d</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_lookup_equiv">grouped_equiv_lookup_equiv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_destr</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">d</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span> (<span class="id">ceq1cons</span>: <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span> ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ₁) ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ₂)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons">grouped_equiv_cons</a></span>; <span class="tactic">trivial</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq1cons</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs1</span>; <span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs1</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>; <span class="id">invcs</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>'; <span class="id">invcs</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span> (<span class="id">ceq1cons</span>: <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span> ((<span class="id">v0</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ₁) ((<span class="id">v0</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ₂)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons">grouped_equiv_cons</a></span>; <span class="tactic">trivial</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">ceq1cons</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs2</span>; <span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs2</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>; <span class="id">invcs</span> <span class="id">domeqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">domeqq</span>'; <span class="id">invcs</span> <span class="id">domeqq</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">preserve_doms</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">progress</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H</span> : <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval">nnrs_stmt_eval</a></span> ?<span class="id">h</span> ?σ<span class="id">c</span> ?σ₁ ?ψ<span class="id">c</span>₁ ?ψ<span class="id">d</span>₁ ?<span class="id">s</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (?σ₂, <span class="id">_</span>, <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_env_stack">nnrs_stmt_eval_env_stack</a></span> <span class="id">H</span>); <span class="tactic">intros</span> ?; <span class="tactic">subst</span> σ₂<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mcenv_domain_stack">nnrs_stmt_eval_mcenv_domain_stack</a></span> <span class="id">H</span>) <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mdenv_domain_stack">nnrs_stmt_eval_mdenv_domain_stack</a></span> <span class="id">H</span>) <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H</span> : <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval">nnrs_stmt_eval</a></span> ?<span class="id">h</span> ?σ<span class="id">c</span> ?σ₁ ?ψ<span class="id">c</span>₁ ?ψ<span class="id">d</span>₁ ?<span class="id">s</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_env_domain_stack">nnrs_stmt_eval_env_domain_stack</a></span> <span class="id">H</span>) <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mcenv_domain_stack">nnrs_stmt_eval_mcenv_domain_stack</a></span> <span class="id">H</span>) <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mdenv_domain_stack">nnrs_stmt_eval_mdenv_domain_stack</a></span> <span class="id">H</span>) <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="concat_envs">concat_envs</a></span> (<span class="id">envs</span>:<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#pd_bindings">pd_bindings</a></span>*<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#mc_bindings">mc_bindings</a></span>*<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#md_bindings">md_bindings</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#pd_bindings">pd_bindings</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="kwd">let</span> '(σ, ψ<span class="id">c</span>, ψ<span class="id">d</span>) := <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#envs">envs</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;σ++(<span class="id"><a href="Qcert.Utils.Assoc.html#map_codomain">map_codomain</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#x">x</a></span>)) ψ<span class="id">c</span>)++ψ<span class="id">d</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="grouped_equiv_move_to_front">grouped_equiv_move_to_front</a></span> {<span class="id">A</span> <span class="id">B</span>} {<span class="id">dec</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html#EqDec">EqDec</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#A">A</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span>} (<span class="id">l1</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#A">A</a></span>*<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#B">B</a></span>))) <span class="id">a</span> <span class="id">l2</span> <span class="id">l3</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>) (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>++(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>::<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l2">l2</a></span>)::<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l3">l3</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>++<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l2">l2</a></span>::<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l3">l3</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3943')">Proof.</div>
<div class="proofscript" id="proof3943">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">nin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Assoc.html#NoDup_lookup_equiv_Permutation">NoDup_lookup_equiv_Permutation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#groupby_domain_NoDup">groupby_domain_NoDup</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat_app">concat_app</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Assoc.html#lookup_equiv">lookup_equiv</a></span>; <span class="tactic">intros</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">a</span> == <span class="id">x</span>); <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Equivalence.html#equiv">equiv</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#complement">complement</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Utils.GroupByDomain.html#groupby_domain_lookup_app_nin">groupby_domain_lookup_app_nin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">l1</span>)); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">re</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">re</span> <span class="tactic">by</span> <span class="tactic">trivial</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_destr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">replace</span> <span class="id">dec</span> <span class="kwd">with</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html#equiv_dec">equiv_dec</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">dec</span>) <span class="kwd">in</span> * <span class="tactic">by</span> <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id">dec</span> <span class="id">x</span> (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> ((<span class="id"><a href="Qcert.Utils.GroupByDomain.html#groupby_domain">groupby_domain</a></span> (<span class="id">l2</span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">l3</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#lookup_update_eq_in">lookup_update_eq_in</a></span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#groupby_domain_equivlist">groupby_domain_equivlist</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_app">domain_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> *; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#lookup_nin_none">lookup_nin_none</a></span>; <span class="tactic">trivial</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_update_first">domain_update_first</a></span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#groupby_domain_equivlist">groupby_domain_equivlist</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_app">domain_app</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> *; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>; <span class="id">match_destr</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Utils.GroupByDomain.html#groupby_domain_lookup_app_nin">groupby_domain_lookup_app_nin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#concat">concat</a></span> <span class="id">l1</span>) ((<span class="id">a</span>,<span class="id">b</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">re</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">re</span> <span class="tactic">by</span> <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">replace</span> <span class="id">dec</span> <span class="kwd">with</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html#equiv_dec">equiv_dec</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">dec</span>) <span class="kwd">in</span> * <span class="tactic">by</span> <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#lookup_update_neq">lookup_update_neq</a></span> <span class="tactic">by</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_destr</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="grouped_equiv_mcenv_env">grouped_equiv_mcenv_env</a></span> <span class="id">a</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>) (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>::<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l2">l2</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l3">l3</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span> ((<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>)))::<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l2">l2</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l3">l3</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3944')">Proof.</div>
<div class="proofscript" id="proof3944">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">nin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_move_to_front">grouped_equiv_move_to_front</a></span> (<span class="id">l1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id">a</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id">a</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Utils.Assoc.html#map_codomain">map_codomain</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Data.Model.Data.html#data">data</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#x">x</a></span>)) <span class="id">l2</span>) (<span class="id">l3</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="grouped_equiv_mdenv_env">grouped_equiv_mdenv_env</a></span> <span class="id">a</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>) (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>) (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l2">l2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l2">l2</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>::<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l3">l3</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#a">a</a></span>::<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l1">l1</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l2">l2</a></span>,<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#l3">l3</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3945')">Proof.</div>
<div class="proofscript" id="proof3945">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">nin1</span> <span class="id">nin2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_move_to_front">grouped_equiv_move_to_front</a></span> (<span class="id">l1</span>::(<span class="id"><a href="Qcert.Utils.Assoc.html#map_codomain">map_codomain</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Data.Model.Data.html#data">data</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#x">x</a></span>)) <span class="id">l2</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">a</span> <span class="id">l3</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">re</span>; <span class="tactic">apply</span> <span class="id">re</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_app">domain_app</a></span>, <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_stmt_to_nnrs_imp_stmt_correct">nnrs_stmt_to_nnrs_imp_stmt_correct</a></span> (<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_stmt">nnrs_stmt</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">h</span> σ<span class="id">c</span> σ ψ<span class="id">c</span> ψ<span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html#nnrs_stmt_cross_shadow_free_under">nnrs_stmt_cross_shadow_free_under</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> σ) (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> ψ<span class="id">c</span>) (<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> ψ<span class="id">d</span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint">all_disjoint</a></span> ((<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> σ)::(<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> ψ<span class="id">c</span>)::(<span class="id"><a href="Qcert.Utils.Assoc.html#domain">domain</a></span> ψ<span class="id">d</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Utils.Lift.html#lift">lift</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval">nnrs_stmt_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> σ ψ<span class="id">c</span> ψ<span class="id">d</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval">nnrs_imp_stmt_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span> (σ, ψ<span class="id">c</span>, ψ<span class="id">d</span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3946')">Proof.</div>
<div class="proofscript" id="proof3946">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#concat_envs">concat_envs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">h</span> σ<span class="id">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nnrs_stmt_cases</span> (<span class="tactic">induction</span> <span class="id">s</span>) <span class="id">Case</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">simpl</span>; <span class="tactic">intros</span> σ ψ<span class="id">c</span> ψ<span class="id">d</span> <span class="id">sf</span> <span class="id">disj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSSeq</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">sf1</span> <span class="id">sf2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">sf1</span> <span class="id">disj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs1</span>; <span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs1</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Lift.html#some_lift">some_lift</a></span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">eqq</span> <span class="kwd">as</span> [[[??]?] <span class="id">eqq</span> ?]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id">IHs2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">sf2</span> <span class="id">disj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">IHs1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Lift.html#none_lift">none_lift</a></span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSLet</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">disj1</span> [<span class="id">disj2</span> [<span class="id">nin1</span> [<span class="id">nin2</span> <span class="id">sf</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr_correct">nnrs_expr_to_nnrs_imp_expr_correct</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env">nnrs_expr_eval_free_env</a></span>, <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env_tail">nnrs_expr_eval_free_env_tail</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs</span> ((<span class="id">v</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ) ψ<span class="id">c</span> ψ<span class="id">d</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">match_option</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq0</span> <span class="kwd">in</span> <span class="id">IHs</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id">eqq1</span> <span class="kwd">in</span> <span class="id">IHs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">deq</span>; <span class="id">invcs</span> <span class="id">deq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">match_option_in</span> <span class="id">IHs</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id">eqq1</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons1">disjoint_cons1</a></span>; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSLetMut</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">nin1</span> [<span class="id">nin2</span> [<span class="id">nin3</span> [<span class="id">sf1</span> <span class="id">sf2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs1</span> <span class="id">_</span> <span class="id">_</span> ((<span class="id">v</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)::ψ<span class="id">d</span>) <span class="id">sf1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs1</span>; [ | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons2">disjoint_cons2</a></span>; <span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs1</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Lift.html#some_lift">some_lift</a></span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">eqq</span> <span class="kwd">as</span> [[[??]?] <span class="id">eqq</span> ?]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mdenv_domain_stack">nnrs_stmt_eval_mdenv_domain_stack</a></span> <span class="id">eqq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">destruct</span> <span class="id">m0</span>; <span class="tactic">intros</span> <span class="id">deq</span>; <span class="id">invcs</span> <span class="id">deq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_mdenv_env">grouped_equiv_mdenv_env</a></span> (<span class="id">s</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) σ ψ<span class="id">c</span> ψ<span class="id">d</span>); <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">geq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_mdenv_env">grouped_equiv_mdenv_env</a></span> (<span class="id">s</span>,<span class="id">o</span>) σ <span class="id">m</span> <span class="id">m0</span>); <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">geq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">geq2</span> <span class="kwd">in</span> <span class="id">IHs1</span> <span class="tactic">by</span> <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">geq1</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">geq1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s1</span>)); <span class="tactic">intros</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq0</span> <span class="kwd">in</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq3</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">geq3</span> <span class="kwd">in</span> <span class="id">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs2</span> ((<span class="id">s</span>, <span class="id">o</span>)::σ) <span class="id">_</span> <span class="id">_</span> <span class="id">sf2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs2</span>; [ | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons1">disjoint_cons1</a></span>; <span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval">nnrs_stmt_eval</a></span> <span class="id">h</span> σ<span class="id">c</span> ((<span class="id">s</span>, <span class="id">o</span>) :: σ) <span class="id">m</span> <span class="id">m0</span> <span class="id">s2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [ <span class="tactic">intros</span> ? <span class="id">eqq2</span> | <span class="tactic">intros</span> <span class="id">eqq2</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq2</span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">match_option_in</span> <span class="id">IHs2</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p1</span> <span class="kwd">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">IHs1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s2</span>)); <span class="tactic">intros</span> <span class="id">geq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq3</span> <span class="kwd">in</span> <span class="id">geq4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">geq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq4</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">geq4</span> <span class="kwd">in</span> <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq4</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">deq2</span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p1</span>; <span class="id">invcs</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">match_option_in</span> <span class="id">IHs2</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">IHs1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s2</span>)); <span class="tactic">intros</span> <span class="id">geq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq3</span> <span class="kwd">in</span> <span class="id">geq4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq4</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Lift.html#none_lift">none_lift</a></span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_mdenv_env">grouped_equiv_mdenv_env</a></span> (<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) σ ψ<span class="id">c</span> ψ<span class="id">d</span>); <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">geq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">geq1</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">geq1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s1</span>)); <span class="tactic">intros</span> <span class="id">geq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq0</span> <span class="kwd">in</span> <span class="id">geq2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq2</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSLetMutColl</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">nin1</span> [<span class="id">nin2</span> [<span class="id">nin3</span> [<span class="id">sf1</span> <span class="id">sf2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs1</span> <span class="id">_</span> ((<span class="id">v</span>, [])::ψ<span class="id">c</span>) <span class="id">_</span> <span class="id">sf1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs1</span>; [ | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons1">disjoint_cons1</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons2">disjoint_cons2</a></span>; <span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">match_option_in</span> <span class="id">IHs1</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Lift.html#some_lift">some_lift</a></span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">eqq</span> <span class="kwd">as</span> [[[??]?] <span class="id">eqq</span> ?]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mcenv_domain_stack">nnrs_stmt_eval_mcenv_domain_stack</a></span> <span class="id">eqq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">destruct</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">deq</span>; <span class="id">invcs</span> <span class="id">deq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_mcenv_env">grouped_equiv_mcenv_env</a></span> (<span class="id">s</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) σ ψ<span class="id">c</span> ψ<span class="id">d</span>); <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">geq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_mcenv_env">grouped_equiv_mcenv_env</a></span> (<span class="id">s</span>,<span class="id">l</span>) σ <span class="id">m</span> <span class="id">m0</span>); <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">geq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">geq2</span> <span class="kwd">in</span> <span class="id">IHs1</span> <span class="tactic">by</span> <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">geq1</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">geq1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s1</span>)); <span class="tactic">intros</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq0</span> <span class="kwd">in</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq3</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">geq3</span> <span class="kwd">in</span> <span class="id">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs2</span> ((<span class="id">s</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id">l</span>)))::σ) <span class="id">_</span> <span class="id">_</span> <span class="id">sf2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs2</span>; [ | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons1">disjoint_cons1</a></span>; <span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval">nnrs_stmt_eval</a></span> <span class="id">h</span> σ<span class="id">c</span> ((<span class="id">s</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id">l</span>))) :: σ) <span class="id">m</span> <span class="id">m0</span> <span class="id">s2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [ <span class="tactic">intros</span> ? <span class="id">eqq2</span> | <span class="tactic">intros</span> <span class="id">eqq2</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq2</span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">match_option_in</span> <span class="id">IHs2</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p1</span> <span class="kwd">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">IHs1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s2</span>)); <span class="tactic">intros</span> <span class="id">geq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq3</span> <span class="kwd">in</span> <span class="id">geq4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">geq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq4</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">geq4</span> <span class="kwd">in</span> <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq4</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">deq2</span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p1</span>; <span class="id">invcs</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">match_option_in</span> <span class="id">IHs2</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">IHs1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s2</span>)); <span class="tactic">intros</span> <span class="id">geq4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq3</span> <span class="kwd">in</span> <span class="id">geq4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq4</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Lift.html#none_lift">none_lift</a></span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#grouped_equiv_mcenv_env">grouped_equiv_mcenv_env</a></span> (<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) σ ψ<span class="id">c</span> ψ<span class="id">d</span>); <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">geq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">geq1</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span> <span class="id">geq1</span> <span class="id">h</span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s1</span>)); <span class="tactic">intros</span> <span class="id">geq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">eqq0</span> <span class="kwd">in</span> <span class="id">geq2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option_in</span> <span class="id">geq2</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSAssign</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">disj1</span> [<span class="id">disj2</span> [<span class="id">nin1</span> <span class="id">nin2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr_correct">nnrs_expr_to_nnrs_imp_expr_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env">nnrs_expr_eval_free_env</a></span>, <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env_tail">nnrs_expr_eval_free_env_tail</a></span>           <span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#lookup_app">lookup_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.Assoc.html#lookup_nin_none">lookup_nin_none</a></span> <span class="id">_</span> <span class="id">nin1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (@<span class="id"><a href="Qcert.Utils.Assoc.html#lookup_nin_none">lookup_nin_none</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="Qcert.Utils.Assoc.html#map_codomain">map_codomain</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Data.Model.Data.html#data">data</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#x">x</a></span>)) ψ<span class="id">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">trivial</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#update_app_nin">update_app_nin</a></span> <span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">trivial</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSPush</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">disj1</span> [<span class="id">disj2</span> [<span class="id">nin1</span> <span class="id">nin2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr_correct">nnrs_expr_to_nnrs_imp_expr_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env">nnrs_expr_eval_free_env</a></span>, <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env_tail">nnrs_expr_eval_free_env_tail</a></span>           <span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>; [ | <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Lift.html#olift2_none_r">olift2_none_r</a></span>; <span class="tactic">trivial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#lookup_app">lookup_app</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.Assoc.html#lookup_nin_none">lookup_nin_none</a></span> <span class="id">_</span> <span class="id">nin1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.Assoc.html#lookup_nin_none">lookup_nin_none</a></span> <span class="id">_</span> <span class="id">nin2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#lookup_map_codomain">lookup_map_codomain</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html#equiv_dec">equiv_dec</a></span>, <span class="id"><a href="Qcert.Utils.CoqLibAdd.html#string_eqdec">string_eqdec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Qcert.Utils.Assoc.html#update_app_nin">update_app_nin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string_dec">string_dec</a></span> σ) <span class="tactic">by</span> <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#map_codomain_update_first">map_codomain_update_first</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#update_app_nin2">update_app_nin2</a></span> <span class="tactic">by</span> <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Bag.html#bunion">bunion</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_equiv">grouped_equiv_equiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSFor</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">disj1</span> [<span class="id">disj2</span> [<span class="id">nin1</span> [<span class="id">nin2</span> <span class="id">sf</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr_correct">nnrs_expr_to_nnrs_imp_expr_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env">nnrs_expr_eval_free_env</a></span>, <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env_tail">nnrs_expr_eval_free_env_tail</a></span>           <span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">d</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> σ ψ<span class="id">c</span> ψ<span class="id">d</span> <span class="id">disj</span> <span class="id">disj1</span> <span class="id">disj2</span> <span class="id">nin1</span> <span class="id">nin2</span> <span class="id">sf</span> <span class="id">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span> σ ψ<span class="id">c</span> ψ<span class="id">d</span> <span class="id">disj</span> <span class="id">disj1</span> <span class="id">disj2</span> <span class="id">nin1</span> <span class="id">nin2</span> <span class="id">sf</span> <span class="id">IHs</span>; [<span class="tactic">reflexivity</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">IHs</span>; <span class="tactic">intros</span> <span class="id">IHsH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHs</span> ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span>)::σ) <span class="id">_</span> <span class="id">_</span> <span class="id">sf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [ | <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons1">disjoint_cons1</a></span>; <span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq</span> <span class="kwd">in</span> <span class="id">IHs</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">IHs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">match_option_in</span> <span class="id">IHs</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_env_stack">nnrs_stmt_eval_env_stack</a></span> <span class="id">eqq</span>); <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="id">invcs</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHs</span> <span class="kwd">as</span> [? <span class="id">geq1</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">geq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (σ ++ <span class="id"><a href="Qcert.Utils.Assoc.html#map_codomain">map_codomain</a></span> (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Data.Model.Data.html#data">data</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.Data.Model.Data.html#dcoll">dcoll</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#x">x</a></span>)) <span class="id">m</span> ++ <span class="id">m0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">p0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>; <span class="tactic">intros</span> <span class="id">p2</span> <span class="id">p1</span> <span class="id">geq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">geq2</span>: <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv">grouped_equiv</a></span> ((<span class="id">s0</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span>)::<span class="id">p1</span>) ((<span class="id">s0</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span>) :: <span class="id">p2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons">grouped_equiv_cons</a></span>; <span class="tactic">trivial</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_imp_stmt_eval_grouped_equiv">nnrs_imp_stmt_eval_grouped_equiv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">geq2</span> <span class="id">h</span> σ<span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq</span> <span class="kwd">in</span> <span class="id">geq3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">geq3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">match_option_in</span> <span class="id">geq3</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">deq1</span>, <span class="id">deq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">invcs</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="id">invcs</span> <span class="id">deq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">geq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHl</span>; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSIf</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">disj1</span> [<span class="id">disj2</span> [<span class="id">sf1</span> <span class="id">sf2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr_correct">nnrs_expr_to_nnrs_imp_expr_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env">nnrs_expr_eval_free_env</a></span>, <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env_tail">nnrs_expr_eval_free_env_tail</a></span>           <span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">d</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSEither</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sf</span> <span class="kwd">as</span> [<span class="id">disj1</span> [<span class="id">disj2</span> [<span class="id">nin1</span> [<span class="id">nin2</span> [<span class="id">nin3</span> [<span class="id">nin4</span> [<span class="id">sf1</span> <span class="id">sf2</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr_correct">nnrs_expr_to_nnrs_imp_expr_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env">nnrs_expr_eval_free_env</a></span>, <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_expr_eval_free_env_tail">nnrs_expr_eval_free_env_tail</a></span>           <span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_map_codomain">domain_map_codomain</a></span>; <span class="tactic">tauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">d</span>; <span class="tactic">simpl</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">specialize</span> (<span class="id">IHs1</span> ((<span class="id">v</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ) <span class="id">_</span> <span class="id">_</span> <span class="id">sf1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [ | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons1">disjoint_cons1</a></span>; <span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq0</span> <span class="kwd">in</span> <span class="id">IHs1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">IHs1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">match_option_in</span> <span class="id">IHs1</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_env_stack">nnrs_stmt_eval_env_stack</a></span> <span class="id">eqq0</span>); <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="id">invcs</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">specialize</span> (<span class="id">IHs2</span> ((<span class="id">v0</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">d</span>)::σ) <span class="id">_</span> <span class="id">_</span> <span class="id">sf2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">IHs2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [ | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span> <span class="kwd">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#disjoint_cons1">disjoint_cons1</a></span>; <span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Lift.html#lift2P">lift2P</a></span> <span class="kwd">in</span> <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">match_option</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq0</span> <span class="kwd">in</span> <span class="id">IHs2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">IHs2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">match_option_in</span> <span class="id">IHs2</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_env_stack">nnrs_stmt_eval_env_stack</a></span> <span class="id">eqq0</span>); <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="id">invcs</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_cons_invs">grouped_equiv_cons_invs</a></span> <span class="kwd">in</span> <span class="id">IHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="nnrs_to_nnrs_imp_correct">nnrs_to_nnrs_imp_correct</a></span> (<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs">nnrs</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">h</span> σ<span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html#nnrs_cross_shadow_free">nnrs_cross_shadow_free</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_eval">nnrs_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> = <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_eval">nnrs_imp_eval</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp">nnrs_to_nnrs_imp</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3947')">Proof.</div>
<div class="proofscript" id="proof3947">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html#nnrs_cross_shadow_free">nnrs_cross_shadow_free</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">h</span> σ<span class="id">c</span> <span class="id">sf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [<span class="id">s</span> <span class="id">ret</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt_correct">nnrs_stmt_to_nnrs_imp_stmt_correct</a></span> <span class="id">s</span> <span class="id">h</span> σ<span class="id">c</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> ((<span class="id">ret</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)); <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cut_to</span> <span class="id">HH</span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="Qcert.Utils.Var.html#var">var</a></span> <span class="kwd">in</span> *; <span class="id">match_option</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">rewrite</span> <span class="id">eqq</span> <span class="kwd">in</span> <span class="id">HH</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">match_option_in</span> <span class="id">HH</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[??]?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">preserve_doms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mcenv_domain_stack">nnrs_stmt_eval_mcenv_domain_stack</a></span> <span class="id">eqq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_stmt_eval_mdenv_domain_stack">nnrs_stmt_eval_mdenv_domain_stack</a></span> <span class="id">eqq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_stmt_eval_domain_stack">nnrs_imp_stmt_eval_domain_stack</a></span> <span class="id">eqq0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">intros</span> <span class="id">deq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">m0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">invcs</span> <span class="id">deq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">invcs</span> <span class="id">deq3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_nil">domain_nil</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_nil">domain_nil</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">deq1</span>; <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.Assoc.html#domain_nil">domain_nil</a></span> <span class="kwd">in</span> <span class="id">deq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.GroupByDomain.html#grouped_equiv_singleton">grouped_equiv_singleton</a></span> <span class="kwd">in</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invcs</span> <span class="id">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">match_option_in</span> <span class="id">HH</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Qcert.Utils.ListAdd.html#all_disjoint3_iff">all_disjoint3_iff</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="nnrs_to_nnrs_imp_top_correct">nnrs_to_nnrs_imp_top_correct</a></span> (<span class="id">sep</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs">nnrs</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">h</span> σ<span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_eval_top">nnrs_eval_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> = <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_eval_top">nnrs_imp_eval_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_top">nnrs_to_nnrs_imp_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#sep">sep</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3948')">Proof.</div>
<div class="proofscript" id="proof3948">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_eval_top">nnrs_eval_top</a></span>, <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_eval_top">nnrs_imp_eval_top</a></span>, <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_top">nnrs_to_nnrs_imp_top</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_correct">nnrs_to_nnrs_imp_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html#nnrs_uncross_shadow_eval">nnrs_uncross_shadow_eval</a></span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html#nnrs_uncross_shadow_free">nnrs_uncross_shadow_free</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="NNRStoNNRSimp.Core">Core</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_expr_to_nnrs_imp_expr_preserves_core">nnrs_expr_to_nnrs_imp_expr_preserves_core</a></span> {<span class="id">e</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_expr">nnrs_expr</a></span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_exprIsCore">nnrs_exprIsCore</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#e">e</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_exprIsCore">nnrs_imp_exprIsCore</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr">nnrs_expr_to_nnrs_imp_expr</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3949')">Proof.</div>
<div class="proofscript" id="proof3949">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">e</span>; <span class="tactic">simpl</span>; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_stmt_to_nnrs_imp_stmt_preserves_core">nnrs_stmt_to_nnrs_imp_stmt_preserves_core</a></span> {<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_stmt">nnrs_stmt</a></span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_stmtIsCore">nnrs_stmtIsCore</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmtIsCore">nnrs_imp_stmtIsCore</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt">nnrs_stmt_to_nnrs_imp_stmt</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3950')">Proof.</div>
<div class="proofscript" id="proof3950">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">s</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_expr_to_nnrs_imp_expr_preserves_core">nnrs_expr_to_nnrs_imp_expr_preserves_core</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="nnrs_to_nnrs_imp_preserves_core">nnrs_to_nnrs_imp_preserves_core</a></span> {<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs">nnrs</a></span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrsIsCore">nnrsIsCore</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_impIsCore">nnrs_impIsCore</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp">nnrs_to_nnrs_imp</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3951')">Proof.</div>
<div class="proofscript" id="proof3951">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_stmt_to_nnrs_imp_stmt_preserves_core">nnrs_stmt_to_nnrs_imp_stmt_preserves_core</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="nnrs_to_nnrs_imp_top_preserves_core">nnrs_to_nnrs_imp_top_preserves_core</a></span> <span class="id">sep</span> {<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs">nnrs</a></span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrsIsCore">nnrsIsCore</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_impIsCore">nnrs_impIsCore</a></span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_top">nnrs_to_nnrs_imp_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#sep">sep</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3952')">Proof.</div>
<div class="proofscript" id="proof3952">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_top">nnrs_to_nnrs_imp_top</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_preserves_core">nnrs_to_nnrs_imp_preserves_core</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSCrossShadow.html#nnrs_uncross_shadow_preserves_core">nnrs_uncross_shadow_preserves_core</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="nnrs_core_to_nnrs_imp_core_top">nnrs_core_to_nnrs_imp_core_top</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sep</span> (<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_core">nnrs_core</a></span>) : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_core">nnrs_imp_core</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_top">nnrs_to_nnrs_imp_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#sep">sep</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3953')">Next Obligation.</div>
<div class="proofscript" id="proof3953">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_top_preserves_core">nnrs_to_nnrs_imp_top_preserves_core</a></span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="nnrs_core_to_nnrs_imp_core_correct">nnrs_core_to_nnrs_imp_core_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">h</span> σ<span class="id">c</span> <span class="id">sep</span> (<span class="id">s</span>:<span class="id"><a href="Qcert.NNRS.Lang.NNRS.html#nnrs_core">nnrs_core</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_core_eval_top">nnrs_core_eval_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_core_eval_top">nnrs_imp_core_eval_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#h">h</a></span> σ<span class="id">c</span> (<span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_core_to_nnrs_imp_core_top">nnrs_core_to_nnrs_imp_core_top</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#sep">sep</a></span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3954')">Proof.</div>
<div class="proofscript" id="proof3954">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [<span class="id">q</span> <span class="id">pf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_core_eval_top">nnrs_core_eval_top</a></span>, <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_core_eval_top">nnrs_imp_core_eval_top</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.NNRS.Lang.NNRSEval.html#nnrs_core_eval">nnrs_core_eval</a></span>, <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEval.html#nnrs_imp_core_eval">nnrs_imp_core_eval</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="id">proj1_sig</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#nnrs_to_nnrs_imp_top_correct">nnrs_to_nnrs_imp_top_correct</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#NNRStoNNRSimp.Core">Core</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Qcert.Translation.NNRStoNNRSimp.html#NNRStoNNRSimp">NNRStoNNRSimp</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
