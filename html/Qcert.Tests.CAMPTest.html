
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Qcert.Tests.CAMPTest</title>
<meta name="description" content="Documentation of Coq module Qcert.Tests.CAMPTest" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Qcert.Tests.CAMPTest</h1>
<div class="coq">
<br/>
<h1> Examples manually translated from arl (JRules) </h1>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Common.Data.BrandRelation.html">BrandRelation</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.ZArith.html">ZArith</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">Z_scope</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Import</span> <span class="id">ListNotations</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CAMPTest">CAMPTest</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Common.CommonSystem.html">CommonSystem</a></span> <span class="id"><a href="Qcert.CAMP.CAMPRuntime.html">CAMPRuntime</a></span> <span class="id"><a href="Qcert.CAMPRule.CAMPRuleRuntime.html">CAMPRuleRuntime</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">camp_scope</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Compiler.Model.TrivialModel.html">TrivialModel</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="exampleWM">exampleWM</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#data">data</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= [ <span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 123); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">John</span> <span class="id">Doe</span>"); ("<span class="id">age</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 32)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 124); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Jane</span> <span class="id">Doe</span>"); ("<span class="id">age</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 32)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 125); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Jim</span> <span class="id">Does</span>"); ("<span class="id">age</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 34)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 126); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Jill</span> <span class="id">Does</span>"); ("<span class="id">age</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 32)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 127); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Joan</span> <span class="id">Doe</span>"); ("<span class="id">age</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 34)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 128); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">James</span> <span class="id">Do</span>"); ("<span class="id">age</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 35)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">pid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 1); ("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 123); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Tomatoe</span>"); ("<span class="id">quantity</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 3)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">pid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 2); ("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 123); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Potatoe</span>"); ("<span class="id">quantity</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 1)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">pid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 3); ("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 125); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Stiletto</span>"); ("<span class="id">quantity</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 64)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">pid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 4); ("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 126); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Libretto</span>"); ("<span class="id">quantity</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 62)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">pid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 5); ("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 128); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Dough</span>"); ("<span class="id">quantity</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 4)]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.Common.Data.RData.html#dbrand">dbrand</a></span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") (<span class="id"><a href="Qcert.Common.Data.RData.html#drec">drec</a></span> [("<span class="id">pid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 6); ("<span class="id">cid</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 128); ("<span class="id">name</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dstring">dstring</a></span> "<span class="id">Croissant</span>"); ("<span class="id">quantity</span>",<span class="id"><a href="Qcert.Common.Data.RData.html#dnat">dnat</a></span> 2)]) ].<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="CPRModel">CPRModel</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">Customer</span>","<span class="id">Entity</span>")::("<span class="id">Purchase</span>","<span class="id">Entity</span>")::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="CPRModel_relation">CPRModel_relation</a></span> : <span class="id"><a href="Qcert.Common.Data.BrandRelation.html#brand_relation">brand_relation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id"><a href="Qcert.Common.Data.BrandRelation.html#mkBrand_relation">mkBrand_relation</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R1">R1</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> ("<span class="id">age</span>" !#-&gt; #<span class="id">_</span> ≐ ‵32))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customer</span> =" +<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">c</span>" ("<span class="id">name</span>" !#-&gt; #<span class="id">_</span>)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R1_result">R1_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R1">R1</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R1_expected">R1_expected</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customer</span> =<span class="id">Jill</span> <span class="id">Does</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span> =<span class="id">Jane</span> <span class="id">Doe</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span> =<span class="id">John</span> <span class="id">Doe</span>"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html">CompEnv</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R1_verify">R1_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R1_result">R1_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R1_expected">R1_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3306')">Proof.</div>
<div class="proofscript" id="proof3306">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R2">R2</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c1</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#paccept">paccept</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c2</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> ("<span class="id">age</span>"!#-&gt; #<span class="id">_</span> #= <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">c1</span>" ("<span class="id">age</span>" !#-&gt; …)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;;  <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customer</span>: " +<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">c1</span>" ("<span class="id">name</span>" !#-&gt; …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ #`" <span class="id">and</span>: "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">c2</span>" ("<span class="id">name</span>" !#-&gt; …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">c1</span>" (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> ("<span class="id">age</span>" !#-&gt; …))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R2_result">R2_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R2">R2</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R2_expected">R2_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customer</span>: <span class="id">James</span> <span class="id">Do</span> <span class="id">and</span>: <span class="id">James</span> <span class="id">Do</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 35";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jim</span> <span class="id">Does</span> <span class="id">and</span>: <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 34";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 34";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">Jim</span> <span class="id">Does</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 34";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">and</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">and</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">and</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jim</span> <span class="id">Does</span> <span class="id">and</span>: <span class="id">Jim</span> <span class="id">Does</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 34";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">and</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">have</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span>: 32"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R2_verify">R2_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R2_result">R2_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R2_expected">R2_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3307')">Proof.</div>
<div class="proofscript" id="proof3307">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R3">R3</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#paccept">paccept</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">p</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> ("<span class="id">cid</span>" !#-&gt; … ≐ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">cid</span>"↓…)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;;  <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customer</span>: " +<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">name</span>"↓…)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">made</span> <span class="id">purchase</span>:"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">p</span>" ("<span class="id">name</span>"↓…)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R3_result">R3_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R3">R3</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R3_expected">R3_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customer</span>: <span class="id">James</span> <span class="id">Do</span> <span class="id">made</span> <span class="id">purchase</span>:<span class="id">Croissant</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">James</span> <span class="id">Do</span> <span class="id">made</span> <span class="id">purchase</span>:<span class="id">Dough</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">made</span> <span class="id">purchase</span>:<span class="id">Libretto</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jim</span> <span class="id">Does</span> <span class="id">made</span> <span class="id">purchase</span>:<span class="id">Stiletto</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">made</span> <span class="id">purchase</span>:<span class="id">Potatoe</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">made</span> <span class="id">purchase</span>:<span class="id">Tomatoe</span>"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R3_verify">R3_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R3_result">R3_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R3_expected">R3_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3308')">Proof.</div>
<div class="proofscript" id="proof3308">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R4">R4</a></span> :=  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#paccept">paccept</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_not">rule_not</a></span> ("<span class="id">p</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> ("<span class="id">cid</span>" !#-&gt; … ≐ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">cid</span>"↓…)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customer</span>: " +<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">name</span>"↓…)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">didn</span>'<span class="id">t</span> <span class="id">make</span> <span class="id">a</span> <span class="id">purchase</span>").<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R4_result">R4_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R4">R4</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R4_expected">R4_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customer</span>: <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">didn</span>'<span class="id">t</span> <span class="id">make</span> <span class="id">a</span> <span class="id">purchase</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">didn</span>'<span class="id">t</span> <span class="id">make</span> <span class="id">a</span> <span class="id">purchase</span>"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R4_verify">R4_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R4_result">R4_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R4_expected">R4_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3309')">Proof.</div>
<div class="proofscript" id="proof3309">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R5">R5</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">cs</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> ("<span class="id">age</span>" !#-&gt; … ≐ ‵32)))             <span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ACount">ACount</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">name</span>"↓…))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customers</span> <span class="kwd">with</span> <span class="id">age</span> 32: "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">cs</span>")).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R5_result">R5_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R5">R5</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R5_expected">R5_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customers</span> <span class="kwd">with</span> <span class="id">age</span> 32: 3"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R5_verify">R5_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R5_result">R5_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R5_expected">R5_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3310')">Proof.</div>
<div class="proofscript" id="proof3310">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R6">R6</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">ps</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> ("<span class="id">name</span>" !#-&gt; … ≐ ‵"<span class="id">John</span> <span class="id">Doe</span>"))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">p</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span>  ("<span class="id">cid</span>" !#-&gt; … ≐ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">cid</span>"↓…))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ACount">ACount</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">p</span>" ("<span class="id">name</span>"↓…))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Nb</span> <span class="id">of</span> <span class="id">John</span> <span class="id">Doe</span>'<span class="id">s</span> <span class="id">purchases</span>: " +<span class="id">s</span>+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">ps</span>"))).<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R6_result">R6_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R6">R6</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R6_expected">R6_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Nb</span> <span class="id">of</span> <span class="id">John</span> <span class="id">Doe</span>'<span class="id">s</span> <span class="id">purchases</span>: 2"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R6_verify">R6_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R6_result">R6_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R6_expected">R6_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3311')">Proof.</div>
<div class="proofscript" id="proof3311">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R7">R7</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#paccept">paccept</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">cs</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c2</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> ("<span class="id">age</span>" !#-&gt; … ≐ (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">age</span>"↓…)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ACount">ACount</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">c2</span>")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customer</span>: "  +<span class="id">s</span>+ (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">name</span>"↓…)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> ("<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">age</span>"↓…))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵") <span class="kwd">as</span> "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">cs</span>")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">other</span> <span class="id">Customers</span>").<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R7_result">R7_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R7">R7</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R7_expected">R7_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customer</span>: <span class="id">James</span> <span class="id">Do</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (35) <span class="kwd">as</span> 1 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (34) <span class="kwd">as</span> 2 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (32) <span class="kwd">as</span> 3 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jim</span> <span class="id">Does</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (34) <span class="kwd">as</span> 2 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (32) <span class="kwd">as</span> 3 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (32) <span class="kwd">as</span> 3 <span class="id">other</span> <span class="id">Customers</span>"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R7_verify">R7_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R7_result">R7_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R7_expected">R7_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3312')">Proof.</div>
<div class="proofscript" id="proof3312">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R8">R8</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#paccept">paccept</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">cs</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c2</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> ("<span class="id">age</span>" !#-&gt; … ≐ (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">age</span>"↓…)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ACount">ACount</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">c2</span>" …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_not">rule_not</a></span> ((<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">cs</span>") ≐ ‵1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customer</span>: "  +<span class="id">s</span>+ (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">name</span>"↓…)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> ("<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">age</span>"↓…))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵") <span class="kwd">as</span> "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">cs</span>")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">other</span> <span class="id">Customers</span>").<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R8_result">R8_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R8">R8</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R8_expected">R8_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customer</span>: <span class="id">Jim</span> <span class="id">Does</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (34) <span class="kwd">as</span> 2 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (34) <span class="kwd">as</span> 2 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jill</span> <span class="id">Does</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (32) <span class="kwd">as</span> 3 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">John</span> <span class="id">Doe</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (32) <span class="kwd">as</span> 3 <span class="id">other</span> <span class="id">Customers</span>";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span>: <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">has</span> <span class="id">the</span> <span class="id">same</span> <span class="id">age</span> (32) <span class="kwd">as</span> 3 <span class="id">other</span> <span class="id">Customers</span>"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R8_verify">R8_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R8_result">R8_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R8_expected">R8_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3313')">Proof.</div>
<div class="proofscript" id="proof3313">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R9">R9</a></span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#paccept">paccept</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">pu</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">p</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> ("<span class="id">cid</span>" !#-&gt; … ≐ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">cid</span>"↓…))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#AIdOp">AIdOp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">p</span>" ("<span class="id">name</span>"↓…))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Customer</span> : "  +<span class="id">s</span>+ (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">name</span>"↓…)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" <span class="id">purchased</span>: "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">pu</span>")).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R9_result">R9_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R9">R9</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R9_expected">R9_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">Customer</span> : <span class="id">James</span> <span class="id">Do</span> <span class="id">purchased</span>: [<span class="id">Croissant</span>, <span class="id">Dough</span>]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span> : <span class="id">Joan</span> <span class="id">Doe</span> <span class="id">purchased</span>: []";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span> : <span class="id">Jill</span> <span class="id">Does</span> <span class="id">purchased</span>: [<span class="id">Libretto</span>]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span> : <span class="id">Jim</span> <span class="id">Does</span> <span class="id">purchased</span>: [<span class="id">Stiletto</span>]";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span> : <span class="id">Jane</span> <span class="id">Doe</span> <span class="id">purchased</span>: []";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"<span class="id">Customer</span> : <span class="id">John</span> <span class="id">Doe</span> <span class="id">purchased</span>: [<span class="id">Potatoe</span>, <span class="id">Tomatoe</span>]"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R9_verify">R9_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R9_result">R9_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R9_expected">R9_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3314')">Proof.</div>
<div class="proofscript" id="proof3314">
 <span class="id">fast_refl</span>. Qed.</div>
&nbsp;&nbsp;<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R10">R10</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">total</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(   <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <span class="id">WHERE</span> <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#paccept">paccept</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span> ("<span class="id">pu</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">p</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> ("<span class="id">cid</span>" !#-&gt; … ≐ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">cid</span>"↓…))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#AIdOp">AIdOp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">p</span>" ("<span class="id">name</span>"↓…))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ACount">ACount</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">pu</span>" …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Total</span> <span class="id">purchases</span> <span class="id">are</span> : " <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">total</span>")).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R10_result">R10_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R10">R10</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R10_expected">R10_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ "<span class="id">Total</span> <span class="id">purchases</span> <span class="id">are</span> : 6"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R10_verify">R10_verify</a></span> : <span class="id"><a href="Qcert.Compiler.Driver.CompEnv.html#validate_success">validate_success</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R10_result">R10_result</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R10_expected">R10_expected</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3315')">Proof.</div>
<div class="proofscript" id="proof3315">
 <span class="id">fast_refl</span>. Qed.</div>
<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R11">R11</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">total</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(   <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">c</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Customer</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMP.html#passert">passert</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMP.Lang.CAMP.html#pbinop">pbinop</a></span> <span class="id"><a href="Qcert.Common.Operators.RBinaryOps.html#ALe">ALe</a></span> ("<span class="id">age</span>"↓…) ‵34))) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_global">rule_global</a></span> ("<span class="id">pu</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_when">rule_when</a></span> ("<span class="id">p</span>" <span class="id">INSTANCEOF</span> (<span class="id"><a href="Qcert.Utils.ListAdd.html#singleton">singleton</a></span> "<span class="id">Purchase</span>") <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">WHERE</span> ("<span class="id">cid</span>" !#-&gt; … ≐ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">c</span>" ("<span class="id">cid</span>"↓…))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ACount">ACount</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withBrandedVar">withBrandedVar</a></span> "<span class="id">p</span>" …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#AIdOp">AIdOp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#withVar">withVar</a></span> "<span class="id">pu</span>" …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#rule_return">rule_return</a></span> (‵"<span class="id">Average</span> <span class="id">nb</span> <span class="id">purchases</span> <span class="kwd">for</span> <span class="id">customers</span> <span class="id">below</span> 34 <span class="id">is</span> : " <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMP.html#punop">punop</a></span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ASum">ASum</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">total</span>"))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ ‵" / " <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#toString">toString</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMP.html#punop">punop</a></span> <span class="id"><a href="Qcert.Common.Operators.RUnaryOps.html#ACount">ACount</a></span> (<span class="id"><a href="Qcert.CAMP.Lang.CAMPSugar.html#lookup">lookup</a></span> "<span class="id">total</span>")))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R11_result">R11_result</a></span> := <span class="id"><a href="Qcert.CAMPRule.Lang.CAMPRule.html#eval_camp_rule">eval_camp_rule</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CPRModel">CPRModel</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#R11">R11</a></span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#exampleWM">exampleWM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id"><a name="R11_expected">R11_expected</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Qcert.Common.Data.RData.html#dconst">dconst</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ "<span class="id">Average</span> <span class="id">nb</span> <span class="id">purchases</span> <span class="kwd">for</span> <span class="id">customers</span> <span class="id">below</span> 34 <span class="id">is</span> : 0.8 "].<br/>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Qcert.Tests.CAMPTest.html#CAMPTest">CAMPTest</a></span>.<br/>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
