
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine</title>
<meta name="description" content="Documentation of Coq module Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine</h1>
<div class="coq">
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.ListSet.html">ListSet</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Equivalence.html">Equivalence</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Morphisms.html">Morphisms</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Setoids.Setoid.html">Setoid</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.EquivDec.html">EquivDec</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="kwd">Program</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Utils.Utils.html">Utils</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.Data.DataSystem.html">DataSystem</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Qcert.NNRSimp.NNRSimpSystem.html">NNRSimpSystem</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="NNRSimpOptimizerEngine">NNRSimpOptimizerEngine</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">nnrs_imp</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="NNRSimpOptimizerEngine.map">map</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">fruntime</span>:<span class="id"><a href="Qcert.Data.ForeignRuntime.html#foreign_runtime">foreign_runtime</a></span>}.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">e</span>:<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>) : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#e">e</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpGetConstant">NNRSimpGetConstant</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpGetConstant">NNRSimpGetConstant</a></span> <span class="id">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpVar">NNRSimpVar</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpVar">NNRSimpVar</a></span> <span class="id">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpConst">NNRSimpConst</a></span> <span class="id">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpConst">NNRSimpConst</a></span> <span class="id">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpBinop">NNRSimpBinop</a></span> <span class="id">bop</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpBinop">NNRSimpBinop</a></span> <span class="id">bop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpUnop">NNRSimpUnop</a></span> <span class="id">uop</span> <span class="id">e1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpUnop">NNRSimpUnop</a></span> <span class="id">uop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpGroupBy">NNRSimpGroupBy</a></span> <span class="id">g</span> <span class="id">sl</span> <span class="id">e1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpGroupBy">NNRSimpGroupBy</a></span> <span class="id">g</span> <span class="id">sl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Fixpoint</span> <span class="id"><a name="nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fs</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span>:<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>) : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s">s</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpSkip">NNRSimpSkip</a></span> =&gt; <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpSkip">NNRSimpSkip</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpSeq">NNRSimpSeq</a></span> <span class="id">s</span>₁ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpSeq">NNRSimpSeq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₂))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpAssign">NNRSimpAssign</a></span> <span class="id">v</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpAssign">NNRSimpAssign</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpLet">NNRSimpLet</a></span> <span class="id">v</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">s</span>₀ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s_opt</span> :=  <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₀ <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s_maybeopt</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarUsage_dec">VarUsage_dec</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#nnrs_imp_stmt_var_usage">nnrs_imp_stmt_var_usage</a></span> <span class="id">s</span>₀ <span class="id">v</span>) <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarMayBeUsedWithoutAssignment">VarMayBeUsedWithoutAssignment</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_opt">s_opt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarUsage_dec">VarUsage_dec</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#nnrs_imp_stmt_var_usage">nnrs_imp_stmt_var_usage</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_opt">s_opt</a></span> <span class="id">v</span>) <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarMayBeUsedWithoutAssignment">VarMayBeUsedWithoutAssignment</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id">s</span>₀<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_opt">s_opt</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpLet">NNRSimpLet</a></span> <span class="id">v</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_maybeopt">s_maybeopt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpLet">NNRSimpLet</a></span> <span class="id">v</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>) <span class="id">s</span>₀ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpLet">NNRSimpLet</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₀))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpFor">NNRSimpFor</a></span> <span class="id">v</span> <span class="id">e</span> <span class="id">s</span>₀ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpFor">NNRSimpFor</a></span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₀))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpIf">NNRSimpIf</a></span> <span class="id">e</span> <span class="id">s</span>₁ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpIf">NNRSimpIf</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₂))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpEither">NNRSimpEither</a></span> <span class="id">e</span> <span class="id">x</span>₁ <span class="id">s</span>₁ <span class="id">x</span>₂ <span class="id">s</span>₂ =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#NNRSimpEither">NNRSimpEither</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span>₁<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₁)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span>₂<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>₂))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nnrs_imp_map_deep">nnrs_imp_map_deep</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fs</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fsi</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">si</span>:<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span>) : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s_opt</span> :=  <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s_maybeopt</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarUsage_dec">VarUsage_dec</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#nnrs_imp_stmt_var_usage">nnrs_imp_stmt_var_usage</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span>)) <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarMayBeUsedWithoutAssignment">VarMayBeUsedWithoutAssignment</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_opt">s_opt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarUsage_dec">VarUsage_dec</a></span> (<span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#nnrs_imp_stmt_var_usage">nnrs_imp_stmt_var_usage</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_opt">s_opt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span>)) <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpUsage.html#VarMayBeUsedWithoutAssignment">VarMayBeUsedWithoutAssignment</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_opt">s_opt</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fsi">fsi</a></span> (<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s_maybeopt">s_maybeopt</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#NNRSimpOptimizerEngine.map">map</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="NNRSimpOptimizerEngine.correct_untyped">correct_untyped</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">fruntime</span>:<span class="id"><a href="Qcert.Data.ForeignRuntime.html#foreign_runtime">foreign_runtime</a></span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_imp_expr_map_deep_eq_correctness">nnrs_imp_expr_map_deep_eq_correctness</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">e</span> : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">e</span>', <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>' ≡ᵉ <span class="id">e</span>') -&gt; <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#e">e</a></span> ≡ᵉ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3565')">Proof.</div>
<div class="proofscript" id="proof3565">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hfe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nnrs_imp_expr_cases</span> (<span class="tactic">induction</span> <span class="id">e</span>) <span class="id">Case</span>; <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">Hfe</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">IHe</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">IHe1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">IHe2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_imp_stmt_map_deep_eq_correctness">nnrs_imp_stmt_map_deep_eq_correctness</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fs</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">e</span>', <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>' ≡ᵉ <span class="id">e</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>', <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>' ≡ˢ <span class="id">s</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s">s</a></span> ≡ˢ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3566')">Proof.</div>
<div class="proofscript" id="proof3566">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hfe</span> <span class="id">Hfs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nnrs_imp_stmt_cases</span> (<span class="tactic">induction</span> <span class="id">s</span>) <span class="id">Case</span>; <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="id">match_destr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">Hfs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">IHs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">IHs1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">IHs2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep_eq_correctness">nnrs_imp_expr_map_deep_eq_correctness</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpLet</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEq.html#NNRSimpLet_proper">NNRSimpLet_proper</a></span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep_eq_correctness">nnrs_imp_expr_map_deep_eq_correctness</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpLet</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEq.html#NNRSimpLet_none_proper">NNRSimpLet_none_proper</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">match_destr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_imp_map_deep_eq_correctness">nnrs_imp_map_deep_eq_correctness</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fs</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fsi</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">si</span> : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">e</span>', <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>' ≡ᵉ <span class="id">e</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>', <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>' ≡ˢ <span class="id">s</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">si</span>', <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fsi">fsi</a></span> <span class="id">si</span>' ≡ˢⁱ <span class="id">si</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_map_deep">nnrs_imp_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fsi">fsi</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span> ≡ˢⁱ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3567')">Proof.</div>
<div class="proofscript" id="proof3567">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hfe</span> <span class="id">Hfs</span> <span class="id">Hfsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_map_deep">nnrs_imp_map_deep</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hfsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">match_destr</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimpEq.html#NNRSImp_proper">NNRSImp_proper</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep_eq_correctness">nnrs_imp_stmt_map_deep_eq_correctness</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#NNRSimpOptimizerEngine.correct_untyped">correct_untyped</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="NNRSimpOptimizerEngine.correct_typed">correct_typed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">model</span>:<span class="id"><a href="Qcert.Data.DataSystem.html#basic_model">basic_model</a></span>}.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_imp_expr_map_deep_trew_correctness">nnrs_imp_expr_map_deep_trew_correctness</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">e</span> : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">e</span>', <span class="id">e</span>' ⇒ᵉ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>') -&gt; <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#e">e</a></span> ⇒ᵉ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep">nnrs_imp_expr_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3568')">Proof.</div>
<div class="proofscript" id="proof3568">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hfe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nnrs_imp_expr_cases</span> (<span class="tactic">induction</span> <span class="id">e</span>) <span class="id">Case</span>; <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hfe</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">IHe</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">IHe1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">IHe2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_imp_stmt_map_deep_trew_correctness">nnrs_imp_stmt_map_deep_trew_correctness</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fs</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">s</span> : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">e</span>', <span class="id">e</span>' ⇒ᵉ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>', <span class="id">s</span>' ⇒ˢ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s">s</a></span> ⇒ˢ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep">nnrs_imp_stmt_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3569')">Proof.</div>
<div class="proofscript" id="proof3569">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hfe</span> <span class="id">Hfs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">nnrs_imp_stmt_cases</span> (<span class="tactic">induction</span> <span class="id">s</span>) <span class="id">Case</span>; <span class="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="id">match_destr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hfs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">IHs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">IHs1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id">IHs2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep_trew_correctness">nnrs_imp_expr_map_deep_trew_correctness</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpLet</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Typing.TNNRSimpEq.html#NNRSimpLet_some_tproper">NNRSimpLet_some_tproper</a></span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_expr_map_deep_trew_correctness">nnrs_imp_expr_map_deep_trew_correctness</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">Case</span> "<span class="id">NNRSimpLet</span>"%<span class="id">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">match_destr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Typing.TNNRSimpEq.html#NNRSimpLet_none_tproper">NNRSimpLet_none_tproper</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nnrs_imp_map_deep_trew_correctness">nnrs_imp_map_deep_trew_correctness</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fe</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_expr">nnrs_imp_expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fs</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp_stmt">nnrs_imp_stmt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">fsi</span> :  <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span> -&gt; <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">si</span> : <span class="id"><a href="Qcert.NNRSimp.Lang.NNRSimp.html#nnrs_imp">nnrs_imp</a></span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">e</span>', <span class="id">e</span>' ⇒ᵉ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id">e</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>', <span class="id">s</span>' ⇒ˢ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id">s</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">si</span>', <span class="id">si</span>' ⇒ˢⁱ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fsi">fsi</a></span> <span class="id">si</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span> ⇒ˢⁱ <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_map_deep">nnrs_imp_map_deep</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fe">fe</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fs">fs</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#fsi">fsi</a></span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#si">si</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3570')">Proof.</div>
<div class="proofscript" id="proof3570">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hfe</span> <span class="id">Hfs</span> <span class="id">Hfsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_map_deep">nnrs_imp_map_deep</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hfsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">match_destr</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Typing.TNNRSimpEq.html#NNRSImp_tproper">NNRSImp_tproper</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">apply</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#nnrs_imp_stmt_map_deep_trew_correctness">nnrs_imp_stmt_map_deep_trew_correctness</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#NNRSimpOptimizerEngine.correct_typed">correct_typed</a></span>.<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="Qcert.NNRSimp.Optim.NNRSimpOptimizerEngine.html#NNRSimpOptimizerEngine">NNRSimpOptimizerEngine</a></span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">tcorrectness_prover</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="tactic">progress</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [|- <span class="id">context</span> [<span class="kwd">match</span> ?<span class="id">p</span> <span class="kwd">with</span> | <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] ] =&gt; <span class="tactic">destruct</span> <span class="id">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>; <span class="tactic">try</span> <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.Equivalence.html#equiv">Equivalence.equiv</a></span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">subst</span>).<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">tprove_correctness</span> <span class="id">p</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>;<br/>
&nbsp;&nbsp;<span class="id">tcorrectness_prover</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
