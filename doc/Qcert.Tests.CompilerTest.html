
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Qcert.Tests.CompilerTest</title>
<meta name="description" content="Documentation of Coq module Qcert.Tests.CompilerTest" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Qcert.Tests.CompilerTest</h1>
<div class="coq">
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">ZArith</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">Z_scope</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">String</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">List</span>.<br/>
<span class="kwd">Import</span> <span class="id">ListNotations</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">BasicSystem</span> <span class="id">CAMPRuntime</span> <span class="id">CAMPRuleRuntime</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">TrivialModel</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="id">CompilerRuntime</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">CPRModel</span> := ("<span class="id">MainEntity</span>", "<span class="id">Entity</span>") :: <span class="id">nil</span>.<br/>
<span class="kwd">Instance</span> <span class="id">CPRModel_relation</span> : <span class="id">brand_relation</span><br/>
&nbsp;&nbsp;:= <span class="id">mkBrand_relation</span> <span class="id">CPRModel</span> (<span class="id">eq_refl</span> <span class="id">_</span>) (<span class="id">eq_refl</span> <span class="id">_</span>).<br/>
<br/>
<span class="kwd">Module</span> <span class="id">TR</span> := <span class="id">TrivialRuntime</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">CompLang</span> <span class="id">CompDriver</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id">CompilerUntypedTest</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">camp_scope</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string</span>.<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">makeMainEntity</span> (<span class="id">db</span>:<span class="id">Z</span>) (<span class="id">id</span>:<span class="id">string</span>) (<span class="id">i</span>:<span class="id">Z</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id">class</span> (<span class="id">singleton</span> "<span class="id">MainEntity</span>")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">drec</span> [("<span class="id">doubleAttribute</span>",<span class="id">dconst</span> <span class="id">db</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">intAttribute</span>", <span class="id">dconst</span> <span class="id">i</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">id</span>",<span class="id">dconst</span> <span class="id">id</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">MainEntity</span> (<span class="id">inp</span>:<span class="id">Z</span>*<span class="id">string</span>*<span class="id">Z</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id">makeMainEntity</span> (<span class="id">fst</span> (<span class="id">fst</span> <span class="id">inp</span>)) (<span class="id">snd</span> (<span class="id">fst</span> <span class="id">inp</span>)) (<span class="id">snd</span> <span class="id">inp</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id">exampleWM</span> : <span class="id">list</span> <span class="id">data</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= [<span class="id">makeMainEntity</span> 120 "<span class="id">string1</span>" 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">makeMainEntity</span> 50 "<span class="id">string2</span>" 2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">makeMainEntity</span> 125 "<span class="id">string3</span>" 3;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">makeMainEntity</span> 50 "<span class="id">string4</span>" 4].<br/>
<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id">Example1</span>' :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">total</span>-<span class="id">attribute</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rule_when</span> ("<span class="id">e</span>" <span class="id">INSTANCEOF</span> (<span class="id">singleton</span> "<span class="id">MainEntity</span>") <span class="id">WHERE</span> ("<span class="id">doubleAttribute</span>" !#-&gt; … ≐ ‵50)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id">ACount</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id">withVar</span> "<span class="id">e</span>" …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id">Example1</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rule_global</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">total</span>-<span class="id">attribute</span>" <span class="id">IS</span> <span class="id">AGGREGATE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rule_when</span> ("<span class="id">e</span>" <span class="id">INSTANCEOF</span> (<span class="id">singleton</span> "<span class="id">MainEntity</span>") <span class="id">WHERE</span> ("<span class="id">doubleAttribute</span>" !#-&gt; … ≐ ‵50)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">DO</span> <span class="id">ACount</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">OVER</span> (<span class="id">withVar</span> "<span class="id">e</span>" …)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FLATTEN</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id">rule_return</span> (‵"<span class="id">MainEntitys</span> <span class="kwd">with</span> <span class="id">doubleAttribute</span> 50: "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+<span class="id">s</span>+ <span class="id">toString</span> (<span class="id">lookup</span> "<span class="id">total</span>-<span class="id">attribute</span>")).<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id">Example1_result</span> := <span class="id">eval_camp_rule</span> <span class="id">nil</span> <span class="id">Example1</span> <span class="id">exampleWM</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Example</span> <span class="id">Example1_expected</span> := <span class="id">map</span> <span class="id">dconst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["<span class="id">MainEntitys</span> <span class="kwd">with</span> <span class="id">doubleAttribute</span> 50: 2"].<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">camp5</span> : <span class="id">camp</span> := <span class="kwd">Eval</span> <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">Example1</span>'.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">algopt5</span> : <span class="id">nraenv_core</span> := <span class="id">camp_to_nraenv_core</span> <span class="id">Example1</span>'.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">rcamp5</span> : <span class="id">camp_rule</span> := <span class="kwd">Eval</span> <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">Example1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">ralgopt5</span> : <span class="id">nraenv</span> := <span class="id">camp_rule_to_nraenv_optim</span> <span class="id">Example1</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">rnnrc5</span> : <span class="id">nnrc</span> := <span class="id">camp_rule_to_nnrc_optim</span> <span class="id">Example1</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">inp1</span> : (<span class="id">list</span> (<span class="id">string</span>*<span class="id">data</span>)) := (("<span class="id">WORLD</span>", <span class="id">dcoll</span> <span class="id">exampleWM</span>)::<span class="id">nil</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">inp2</span> : <span class="id">data</span> := <span class="id">dunit</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id">CompilerUntypedTest</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id">CompilerBrandModelTest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id">MainEntityDataType</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Rec</span> <span class="kwd">Open</span> (("<span class="id">doubleAttribute</span>", <span class="id">Nat</span>) :: ("<span class="id">id</span>", <span class="id">String</span>) :: ("<span class="id">intAttribute</span>", <span class="id">Nat</span>) :: <span class="id">nil</span>) <span class="id">_</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id">EntityType</span> : <span class="id">rtype</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id">Rec</span> <span class="kwd">Open</span> [] <span class="id">_</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">CPTModelTypes</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[("<span class="id">Entity</span>", <span class="id">EntityType</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("<span class="id">MainEntity</span>", <span class="id">MainEntityDataType</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">CPTModel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= @<span class="id">mkBrand_context</span> <span class="id">_</span> <span class="id">CPRModel_relation</span> <span class="id">CPTModelTypes</span> (<span class="id">eq_refl</span> <span class="id">_</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Instance</span> <span class="id">CPModel</span> : <span class="id">brand_model</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id">mkBrand_model</span> <span class="id">CPRModel_relation</span> <span class="id">CPTModel</span> (<span class="id">eq_refl</span> <span class="id">_</span>) (<span class="id">eq_refl</span> <span class="id">_</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id">CompilerBrandModelTest</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">CompilerModel</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Module</span> <span class="id">MyBrandModel</span> &lt;: <span class="id">CompilerBrandModel</span>(<span class="id">TrivialForeignType</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">compiler_brand_model</span> := <span class="id">CPModel</span>.<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id">MyBrandModel</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Module</span> <span class="id">TM</span> := <span class="id">TrivialModel</span>(<span class="id">MyBrandModel</span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id">CompilerTypedTest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Existing</span> <span class="kwd">Instance</span> <span class="id">CPModel</span>.<br/>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">makeMainEntity_typed</span> <span class="id">db</span> <span class="id">id</span> <span class="id">i</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">normalize_data</span> <span class="id">brand_relation_brands</span> (<span class="id">makeMainEntity</span> <span class="id">db</span> <span class="id">id</span> <span class="id">i</span>)) ▹ (<span class="id">Brand</span> (<span class="id">singleton</span> "<span class="id">MainEntity</span>")).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3315')">Proof.</div>
<div class="proofscript" id="proof3315">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (@<span class="id">dtbrand</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">CPModel</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> (@<span class="id">canon_brands_singleton</span> (@<span class="id">brand_model_relation</span> <span class="id">_</span> <span class="id">CPModel</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">brands_type_singleton</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (@<span class="id">dtrec_full</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">CPModel</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Forall2_cons</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">reflexivity</span>|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Forall2_cons</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">reflexivity</span>|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Forall2_cons</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">reflexivity</span>|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Forall2_nil</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> (@<span class="id">canon_brands_singleton</span> (@<span class="id">brand_model_relation</span> <span class="id">_</span> <span class="id">CPModel</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">tout1</span> := <span class="id">Rec</span> <span class="id">Closed</span> (("<span class="id">total</span>-<span class="id">attribute</span>", <span class="id">Nat</span>)::<span class="id">nil</span>) <span class="id">eq_refl</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">tinp1</span> := (("<span class="id">WORLD</span>", <span class="id">Coll</span> (<span class="id">Brand</span> (<span class="id">singleton</span> "<span class="id">MainEntity</span>")))::<span class="id">nil</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">TCAMP</span> <span class="id">TOps</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">Example1</span>'<span class="id">_wt</span> τ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">camp_type</span> <span class="id">tinp1</span> <span class="id">nil</span> <span class="id">Example1</span>' τ <span class="id">tout1</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3316')">Proof.</div>
<div class="proofscript" id="proof3316">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">brands_type_singleton</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Grab</span> <span class="id">Existential</span> <span class="kwd">Variables</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">TcNRAEnv</span> <span class="id">TCAMPtocNRAEnv</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">alg5_wt</span> τ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">algopt5</span> ▷ τ &gt;=&gt; <span class="id">Coll</span> <span class="id">tout1</span> ⊣ <span class="id">tinp1</span>;(<span class="id">Rec</span> <span class="id">Closed</span> <span class="id">nil</span> <span class="id">eq_refl</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3317')">Proof.</div>
<div class="proofscript" id="proof3317">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">algopt5</span>, <span class="id">camp_to_nraenv_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">CAMPtocNRAEnv.camp_to_nraenv_core_top</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">CAMPtocNRAEnv.nraenv_core_of_camp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (@<span class="id">nraenv_core_of_camp_type_preserve</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Example1</span>'<span class="id">_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Grab</span> <span class="id">Existential</span> <span class="kwd">Variables</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id">CompilerTypedTest</span>.<br/>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
