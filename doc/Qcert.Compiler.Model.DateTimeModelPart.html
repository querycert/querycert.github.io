
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Qcert.Compiler.Model.DateTimeModelPart</title>
<meta name="description" content="Documentation of Coq module Qcert.Compiler.Model.DateTimeModelPart" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Qcert.Compiler.Model.DateTimeModelPart</h1>
<div class="coq">
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">String</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">EquivDec</span> <span class="id">Equivalence</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">ForeignData</span> <span class="id">ForeignOps</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">Utils</span> <span class="id">ZArith</span>.<br/>
<br/>
<div class="doc">Extraction to OCaml is currently a stub *</div>
<br/>
<br/>
<div class="doc">Defines the foreign support for date/time numbers
     Posits axioms for the basic data/operators, and 
     defines how they are extracted to ocaml (using helper functions
     defined in qcert/ocaml/...../Util.ml)
     </div>
<br/>
<div class="doc">Defines the notion of a time scale </div>
<span class="kwd">Inductive</span> <span class="id">time_scale</span><br/>
&nbsp;&nbsp;:= <span class="id">ts_second</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id">ts_minute</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id">ts_hour</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id">ts_day</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id">ts_week</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id">ts_month</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id">ts_year</span>.<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">time_scale_eqdec</span> : <span class="id">EqDec</span> <span class="id">time_scale</span> <span class="id">eq</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3034')">Proof.</div>
<div class="proofscript" id="proof3034">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">equiv</span>, <span class="id">complement</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> : <span class="id">time_scale</span>, {<span class="id">x</span> = <span class="id">y</span>} + {<span class="id">x</span> &lt;&gt; <span class="id">y</span>}).<br/>
&nbsp;&nbsp;<span class="id">decide</span> <span class="id">equality</span>.<br/>
Defined.</div>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_scale_to_string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ts</span>:<span class="id">time_scale</span>) : <span class="id">string</span><br/>
&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id">ts</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">ts_second</span> =&gt; "<span class="id">SECOND</span>"%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">ts_minute</span> =&gt; "<span class="id">MINUTE</span>"%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">ts_hour</span> =&gt; "<span class="id">HOUR</span>"%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">ts_day</span> =&gt; "<span class="id">DAY</span>"%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">ts_week</span> =&gt; "<span class="id">WEEK</span>"%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">ts_month</span> =&gt; "<span class="id">MONTH</span>"%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">ts_year</span> =&gt; "<span class="id">YEAR</span>"%<span class="id">string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Instance</span> <span class="id">time_scale_tostring</span> : <span class="id">ToString</span> <span class="id">time_scale</span><br/>
&nbsp;&nbsp;:= { <span class="id">toString</span> := <span class="id">time_scale_to_string</span> }.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_scale_to_java_string</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ts</span>:<span class="id">time_scale</span>) : <span class="id">string</span><br/>
&nbsp;&nbsp;:= "<span class="id">TimeScale</span>." ++ <span class="id">time_scale_to_string</span> <span class="id">ts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id">time_scale_foreign_data</span> : <span class="id">foreign_data</span><br/>
&nbsp;&nbsp;:= {<span class="id">foreign_data_type</span> := <span class="id">time_scale</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">foreign_data_dec</span> := <span class="id">time_scale_eqdec</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">foreign_data_tostring</span> := <span class="id">time_scale_tostring</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">foreign_data_normalized</span> <span class="id">ts</span> := <span class="id">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id">foreign_data_normalize</span> <span class="id">ts</span> := <span class="id">ts</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_DURATION</span> : <span class="kwd">Set</span>.<br/>
<span class="id">Extract</span> <span class="id">Constant</span> <span class="id">TIME_DURATION</span> =&gt; "<span class="id">string</span>".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_DURATION_eq</span> : <span class="id">TIME_DURATION</span> -&gt; <span class="id">TIME_DURATION</span> -&gt; <span class="id">bool</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_DURATION_eq</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> = <span class="id">y</span>)".<br/>
<br/>
<span class="id">Conjecture</span> <span class="id">TIME_DURATION_eq_correct</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, (<span class="id">TIME_DURATION_eq</span> <span class="id">f1</span> <span class="id">f2</span> = <span class="id">true</span> &lt;-&gt; <span class="id">f1</span> = <span class="id">f2</span>).<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_DURATION_tostring</span> : <span class="id">TIME_DURATION</span> -&gt; <span class="id">String.string</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_DURATION_tostring</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> -&gt; <span class="id">Util.char_list_of_string</span> <span class="id">x</span>)".<br/>
<br/>
<span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id">time_duration_foreign_data</span> : <span class="id">foreign_data</span><br/>
&nbsp;&nbsp;:= {<span class="id">foreign_data_type</span> := <span class="id">TIME_DURATION</span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3035')">Next Obligation.</div>
<div class="proofscript" id="proof3035">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id">TIME_DURATION_eq</span> <span class="id">x</span> <span class="id">y</span>); <span class="tactic">intros</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;+ <span class="id">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">TIME_DURATION_eq_correct</span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;+ <span class="id">right</span>; <span class="tactic">intros</span> <span class="id">eqq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">eqq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">TIME_DURATION_eq_correct</span> <span class="kwd">in</span> <span class="id">eqq2</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Defined.</div>
<div class="toggleproof" onclick="toggleDisplay('proof3036')">Next Obligation.</div>
<div class="proofscript" id="proof3036">
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">True</span>.<br/>
Defined.</div>
<div class="toggleproof" onclick="toggleDisplay('proof3037')">Next Obligation.</div>
<div class="proofscript" id="proof3037">
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof3038')">Next Obligation.</div>
<div class="proofscript" id="proof3038">
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id">TIME_DURATION_tostring</span> <span class="id">f</span>).<br/>
Defined.</div>
<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT</span> : <span class="kwd">Set</span>.<br/>
<span class="id">Extract</span> <span class="id">Constant</span> <span class="id">TIME_POINT</span> =&gt; "<span class="id">string</span>".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_eq</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_POINT</span> -&gt; <span class="id">bool</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_eq</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> = <span class="id">y</span>)".<br/>
<br/>
<span class="id">Conjecture</span> <span class="id">TIME_POINT_eq_correct</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, (<span class="id">TIME_POINT_eq</span> <span class="id">f1</span> <span class="id">f2</span> = <span class="id">true</span> &lt;-&gt; <span class="id">f1</span> = <span class="id">f2</span>).<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_tostring</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">String.string</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_tostring</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> -&gt; <span class="id">Util.char_list_of_string</span> <span class="id">x</span>)".<br/>
<br/>
<span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id">time_point_foreign_data</span> : <span class="id">foreign_data</span><br/>
&nbsp;&nbsp;:= {<span class="id">foreign_data_type</span> := <span class="id">TIME_POINT</span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3039')">Next Obligation.</div>
<div class="proofscript" id="proof3039">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id">TIME_POINT_eq</span> <span class="id">x</span> <span class="id">y</span>); <span class="tactic">intros</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;+ <span class="id">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">TIME_POINT_eq_correct</span> <span class="kwd">in</span> <span class="id">eqq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;+ <span class="id">right</span>; <span class="tactic">intros</span> <span class="id">eqq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">eqq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">TIME_POINT_eq_correct</span> <span class="kwd">in</span> <span class="id">eqq2</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Defined.</div>
<div class="toggleproof" onclick="toggleDisplay('proof3040')">Next Obligation.</div>
<div class="proofscript" id="proof3040">
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">True</span>.<br/>
Defined.</div>
<div class="toggleproof" onclick="toggleDisplay('proof3041')">Next Obligation.</div>
<div class="proofscript" id="proof3041">
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof3042')">Next Obligation.</div>
<div class="proofscript" id="proof3042">
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id">TIME_POINT_tostring</span> <span class="id">f</span>).<br/>
Defined.</div>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_from_string</span> : <span class="id">String.string</span> -&gt; <span class="id">TIME_POINT</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_from_string</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> -&gt; <span class="id">Util.string_of_char_list</span> <span class="id">x</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_DURATION_from_string</span> : <span class="id">String.string</span> -&gt; <span class="id">TIME_DURATION</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_DURATION_from_string</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> -&gt; <span class="id">Util.string_of_char_list</span> <span class="id">x</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_to_scale</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">time_scale</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_to_scale</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> -&gt; <span class="id">Ts_second</span>)".<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">time_unary_op</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;| <span class="id">uop_time_to_scale</span><br/>
&nbsp;&nbsp;| <span class="id">uop_time_from_string</span><br/>
&nbsp;&nbsp;| <span class="id">uop_time_duration_from_string</span><br/>
.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_unary_op_tostring</span> (<span class="id">f</span>:<span class="id">time_unary_op</span>) : <span class="id">String.string</span><br/>
&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_to_scale</span> =&gt; "<span class="id">ATimeToScale</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_from_string</span> =&gt; "<span class="id">ATimeFromString</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_duration_from_string</span> =&gt; "<span class="id">ATimeDurationFromString</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">ForeignToJava</span> <span class="id">NNRCtoJava</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_to_java_unary_op</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">indent</span>:<span class="id">nat</span>) (<span class="id">eol</span>:<span class="id">String.string</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">quotel</span>:<span class="id">String.string</span>) (<span class="id">fu</span>:<span class="id">time_unary_op</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">d</span>:<span class="id">java_json</span>) : <span class="id">java_json</span><br/>
&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id">fu</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_to_scale</span> =&gt; <span class="id">mk_java_unary_op0</span> "<span class="id">time_to_scale</span>" <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_from_string</span> =&gt; <span class="id">mk_java_unary_op0</span> "<span class="id">time_from_string</span>" <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_duration_from_string</span> =&gt; <span class="id">mk_java_unary_op0</span> "<span class="id">time_duration_from_string</span>" <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_to_javascript_unary_op</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">indent</span>:<span class="id">nat</span>) (<span class="id">eol</span>:<span class="id">String.string</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">quotel</span>:<span class="id">String.string</span>) (<span class="id">fu</span>:<span class="id">time_unary_op</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">d</span>:<span class="id">String.string</span>) : <span class="id">String.string</span><br/>
&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id">fu</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_to_scale</span> =&gt; "<span class="id">timePointToScale</span>(" ++ <span class="id">d</span> ++ ")"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_from_string</span> =&gt; "<span class="id">timeFromString</span>(" ++ <span class="id">d</span> ++ ")"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">uop_time_duration_from_string</span> =&gt; "<span class="id">new</span> <span class="id">TimeDuration</span>(" ++ <span class="id">d</span> ++ ")"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_as</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">time_scale</span> -&gt; <span class="id">TIME_POINT</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_as</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_shift</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_DURATION</span> -&gt; <span class="id">TIME_POINT</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_shift</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_ne</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_POINT</span> -&gt; <span class="id">bool</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_ne</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> &lt;&gt; <span class="id">y</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_lt</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_POINT</span> -&gt; <span class="id">bool</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_lt</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> &lt; <span class="id">y</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_le</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_POINT</span> -&gt; <span class="id">bool</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_le</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> &lt;= <span class="id">y</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_gt</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_POINT</span> -&gt; <span class="id">bool</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_gt</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> &gt; <span class="id">y</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_POINT_ge</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_POINT</span> -&gt; <span class="id">bool</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_POINT_ge</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; <span class="id">x</span> &gt;= <span class="id">y</span>)".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_DURATION_from_scale</span> : <span class="id">time_scale</span> -&gt; <span class="id">Z</span> -&gt; <span class="id">TIME_DURATION</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_DURATION_from_scale</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; """")".<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id">TIME_DURATION_between</span> : <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_POINT</span> -&gt; <span class="id">TIME_DURATION</span>.<br/>
<span class="id">Extract</span> <span class="id">Inlined</span> <span class="id">Constant</span> <span class="id">TIME_DURATION_between</span> =&gt; "(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> -&gt; """")".<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">time_binary_op</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;| <span class="id">bop_time_as</span> <br/>
&nbsp;&nbsp;| <span class="id">bop_time_shift</span><br/>
&nbsp;&nbsp;| <span class="id">bop_time_ne</span><br/>
&nbsp;&nbsp;| <span class="id">bop_time_lt</span><br/>
&nbsp;&nbsp;| <span class="id">bop_time_le</span><br/>
&nbsp;&nbsp;| <span class="id">bop_time_gt</span><br/>
&nbsp;&nbsp;| <span class="id">bop_time_ge</span><br/>
&nbsp;&nbsp;| <span class="id">bop_time_duration_from_scale</span><br/>
&nbsp;&nbsp;| <span class="id">bop_time_duration_between</span><br/>
.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_binary_op_tostring</span> (<span class="id">f</span>:<span class="id">time_binary_op</span>) : <span class="id">String.string</span><br/>
&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_as</span> =&gt; "<span class="id">ATimeAs</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_shift</span> =&gt; "<span class="id">ATimeShift</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_ne</span> =&gt; "<span class="id">ATimeNe</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_lt</span> =&gt; "<span class="id">ATimeLt</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_le</span> =&gt; "<span class="id">ATimeLe</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_gt</span> =&gt; "<span class="id">ATimeGt</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_ge</span> =&gt; "<span class="id">ATimeGe</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_duration_from_scale</span> =&gt; "<span class="id">ATimeDurationFromScale</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_duration_between</span> =&gt; "<span class="id">ATimeDurationBetween</span>"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">jsFunc</span> (<span class="id">name</span> <span class="id">d1</span> <span class="id">d2</span>:<span class="id">string</span>)<br/>
&nbsp;&nbsp;:= <span class="id">name</span> ++ "(" ++ <span class="id">d1</span> ++ ", " ++ <span class="id">d2</span> ++ ")".<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_to_java_binary_op</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">indent</span>:<span class="id">nat</span>) (<span class="id">eol</span>:<span class="id">String.string</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">quotel</span>:<span class="id">String.string</span>) (<span class="id">fb</span>:<span class="id">time_binary_op</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">d1</span> <span class="id">d2</span>:<span class="id">java_json</span>) : <span class="id">java_json</span><br/>
&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id">fb</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_as</span> =&gt; <span class="id">mk_java_binary_op0</span> "<span class="id">time_point_as</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_shift</span> =&gt; <span class="id">mk_java_binary_op0</span> "<span class="id">time_point_shift</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_ne</span> =&gt;  <span class="id">mk_java_binary_op0</span> "<span class="id">time_point_ne</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_lt</span> =&gt;  <span class="id">mk_java_binary_op0</span> "<span class="id">time_point_lt</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_le</span> =&gt;  <span class="id">mk_java_binary_op0</span> "<span class="id">time_point_le</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_gt</span> =&gt;  <span class="id">mk_java_binary_op0</span> "<span class="id">time_point_gt</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_ge</span> =&gt; <span class="id">mk_java_binary_op0</span> "<span class="id">time_point_ge</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_duration_from_scale</span> =&gt; <span class="id">mk_java_binary_op0</span> "<span class="id">time_duration_from_scale</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_duration_between</span> =&gt; <span class="id">mk_java_binary_op0</span> "<span class="id">time_duration_between</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">time_to_javascript_binary_op</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">indent</span>:<span class="id">nat</span>) (<span class="id">eol</span>:<span class="id">String.string</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">quotel</span>:<span class="id">String.string</span>) (<span class="id">fb</span>:<span class="id">time_binary_op</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">d1</span> <span class="id">d2</span>:<span class="id">String.string</span>) : <span class="id">String.string</span><br/>
&nbsp;&nbsp;:= <span class="kwd">match</span> <span class="id">fb</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_as</span> =&gt; <span class="id">jsFunc</span> "<span class="id">timePointAs</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_shift</span> =&gt; <span class="id">jsFunc</span> "<span class="id">timePointShift</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_ne</span> =&gt;  <span class="id">jsFunc</span> "<span class="id">timePointNe</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_lt</span> =&gt;  <span class="id">jsFunc</span> "<span class="id">timePointLt</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_le</span> =&gt;  <span class="id">jsFunc</span> "<span class="id">timePointLe</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_gt</span> =&gt;  <span class="id">jsFunc</span> "<span class="id">timePointGt</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_ge</span> =&gt; <span class="id">jsFunc</span> "<span class="id">timePointGe</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_duration_from_scale</span> =&gt;  <span class="id">jsFunc</span> "<span class="id">timeDurationFromScale</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">bop_time_duration_between</span> =&gt; <span class="id">jsFunc</span> "<span class="id">timeDurationBetween</span>" <span class="id">d1</span> <span class="id">d2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.  <br/>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
