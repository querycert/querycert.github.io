<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Qcert.NNRCMR.Optim.NNRCMRRewrite</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Qcert.NNRCMR.Optim.NNRCMRRewrite</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="NRewMR"><span class="id" title="section">NRewMR</span></a>.<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">fruntime</span>:<a class="idref" href="Qcert.Basic.ForeignRuntime.html#foreign_runtime"><span class="id" title="class">foreign_runtime</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">fredop</span>:<a class="idref" href="Qcert.NNRCMR.Lang.ForeignReduceOps.html#foreign_reduce_op"><span class="id" title="class">foreign_reduce_op</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">h</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>(<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)).<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_id_function"><span class="id" title="definition">is_id_function</span></a> (<span class="id" title="var">f</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc"><span class="id" title="inductive">nnrc</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">x</span>, <span class="id" title="var">n</span>) := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">y</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCUnop"><span class="id" title="constructor">NNRCUnop</span></a> <a class="idref" href="Qcert.Basic.Operators.RUnaryOps.html#AIdOp"><span class="id" title="constructor">AIdOp</span></a> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">y</span>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_coll_function"><span class="id" title="definition">is_coll_function</span></a> (<span class="id" title="var">f</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc"><span class="id" title="inductive">nnrc</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">x</span>, <span class="id" title="var">n</span>) := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCUnop"><span class="id" title="constructor">NNRCUnop</span></a> <a class="idref" href="Qcert.Basic.Operators.RUnaryOps.html#AColl"><span class="id" title="constructor">AColl</span></a> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">y</span>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_constant_function"><span class="id" title="definition">is_constant_function</span></a> (<span class="id" title="var">f</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc"><span class="id" title="inductive">nnrc</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">x</span>, <span class="id" title="var">n</span>) := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCConst"><span class="id" title="constructor">NNRCConst</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_flatten_function"><span class="id" title="definition">is_flatten_function</span></a> (<span class="id" title="var">f</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc"><span class="id" title="inductive">nnrc</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">x</span>, <span class="id" title="var">n</span>) := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCUnop"><span class="id" title="constructor">NNRCUnop</span></a> <a class="idref" href="Qcert.Basic.Operators.RUnaryOps.html#AFlatten"><span class="id" title="constructor">AFlatten</span></a> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">y</span>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCLet"><span class="id" title="constructor">NNRCLet</span></a> <span class="id" title="var">a</span> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCUnop"><span class="id" title="constructor">NNRCUnop</span></a> <a class="idref" href="Qcert.Basic.Operators.RUnaryOps.html#AFlatten"><span class="id" title="constructor">AFlatten</span></a> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">y</span>)) (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">b</span>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_flatten_function_correct"><span class="id" title="lemma">is_flatten_function_correct</span></a> (<span class="id" title="var">x</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a>) (<span class="id" title="var">n</span>:<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc"><span class="id" title="inductive">nnrc</span></a>) (<span class="id" title="var">env</span>:<a class="idref" href="Qcert.Basic.Data.RData.html#bindings"><span class="id" title="definition">bindings</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_flatten_function"><span class="id" title="definition">is_flatten_function</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.Basic.Util.RAssoc.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_dec"><span class="id" title="definition">equiv_dec</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#env"><span class="id" title="variable">env</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc_core_eval"><span class="id" title="definition">nnrc_core_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#env"><span class="id" title="variable">env</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Qcert.Basic.Data.RRelation.html#lift_oncoll"><span class="id" title="definition">lift_oncoll</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l</span> ⇒ (<a class="idref" href="Qcert.Basic.Util.RLift.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> (<a class="idref" href="Qcert.Basic.Data.RRelation.html#rflatten"><span class="id" title="definition">rflatten</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>))) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#d"><span class="id" title="variable">d</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_uncoll_function_arg"><span class="id" title="definition">is_uncoll_function_arg</span></a> (<span class="id" title="var">f</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc"><span class="id" title="inductive">nnrc</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">x</span>, <span class="id" title="var">n</span>) := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCLet"><span class="id" title="constructor">NNRCLet</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCEither"><span class="id" title="constructor">NNRCEither</span></a> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCUnop"><span class="id" title="constructor">NNRCUnop</span></a> <a class="idref" href="Qcert.Basic.Operators.RUnaryOps.html#ASingleton"><span class="id" title="constructor">ASingleton</span></a> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b</span> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">c</span> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCConst"><span class="id" title="constructor">NNRCConst</span></a> <a class="idref" href="Qcert.Basic.Data.RData.html#dunit"><span class="id" title="constructor">dunit</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <span class="id" title="var">a</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_id_scalar_map"><span class="id" title="definition">is_id_scalar_map</span></a> <span class="id" title="var">map</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map"><span class="id" title="variable">map</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDist"><span class="id" title="constructor">MapDist</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDistFlatten"><span class="id" title="constructor">MapDistFlatten</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_coll_function"><span class="id" title="definition">is_coll_function</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="id_scalar_map_correct"><span class="id" title="lemma">id_scalar_map_correct</span></a> <span class="id" title="var">mr_map</span> <span class="id" title="var">d</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_scalar_map"><span class="id" title="definition">is_id_scalar_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map_eval"><span class="id" title="definition">mr_map_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_id_dist_map"><span class="id" title="definition">is_id_dist_map</span></a> <span class="id" title="var">map</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map"><span class="id" title="variable">map</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDist"><span class="id" title="constructor">MapDist</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_function"><span class="id" title="definition">is_id_function</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDistFlatten"><span class="id" title="constructor">MapDistFlatten</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_coll_function"><span class="id" title="definition">is_coll_function</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="id_dist_map_correct"><span class="id" title="lemma">id_dist_map_correct</span></a> <span class="id" title="var">mr_map</span> <span class="id" title="var">coll</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_dist_map"><span class="id" title="definition">is_id_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map_eval"><span class="id" title="definition">mr_map_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_dispatch_map"><span class="id" title="definition">is_dispatch_map</span></a> <span class="id" title="var">map</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map"><span class="id" title="variable">map</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_function"><span class="id" title="definition">is_id_function</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dispatch_map_correct"><span class="id" title="lemma">dispatch_map_correct</span></a> <span class="id" title="var">mr_map</span> <span class="id" title="var">coll</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_dispatch_map"><span class="id" title="definition">is_dispatch_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map_eval"><span class="id" title="definition">mr_map_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_scalar_map"><span class="id" title="definition">is_scalar_map</span></a> <span class="id" title="var">map</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map"><span class="id" title="variable">map</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_flatten_dist_map"><span class="id" title="definition">is_flatten_dist_map</span></a> <span class="id" title="var">map</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map"><span class="id" title="variable">map</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDistFlatten"><span class="id" title="constructor">MapDistFlatten</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_function"><span class="id" title="definition">is_id_function</span></a> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="flatten_dist_map_correct"><span class="id" title="lemma">flatten_dist_map_correct</span></a> <span class="id" title="var">mr_map</span> <span class="id" title="var">coll</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_flatten_dist_map"><span class="id" title="definition">is_flatten_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map_eval"><span class="id" title="definition">mr_map_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_map"><span class="id" title="variable">mr_map</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Qcert.Basic.Data.RRelation.html#rflatten"><span class="id" title="definition">rflatten</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>.<br/>

<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_flatten_collect"><span class="id" title="definition">is_flatten_collect</span></a> <span class="id" title="tactic">red</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">reduce</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_flatten_function"><span class="id" title="definition">is_flatten_function</span></a> <span class="id" title="var">reduce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">op</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_id_reduce"><span class="id" title="definition">is_id_reduce</span></a> <span class="id" title="tactic">red</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">reduce</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">op</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="id_reduce_correct"><span class="id" title="lemma">id_reduce_correct</span></a> <span class="id" title="tactic">red</span> <span class="id" title="var">coll</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_reduce"><span class="id" title="definition">is_id_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce_eval"><span class="id" title="definition">mr_reduce_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>).<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_id_collect"><span class="id" title="definition">is_id_collect</span></a> <span class="id" title="tactic">red</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">reduce</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_function"><span class="id" title="definition">is_id_function</span></a> <span class="id" title="var">reduce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">op</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="id_collect_correct"><span class="id" title="lemma">id_collect_correct</span></a> <span class="id" title="tactic">red</span> <span class="id" title="var">coll</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_collect"><span class="id" title="definition">is_id_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce_eval"><span class="id" title="definition">mr_reduce_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_singleton_reduce"><span class="id" title="definition">is_singleton_reduce</span></a> <span class="id" title="tactic">red</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="singleton_reduce_correct"><span class="id" title="lemma">singleton_reduce_correct</span></a> <span class="id" title="tactic">red</span> <span class="id" title="var">d</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_singleton_reduce"><span class="id" title="definition">is_singleton_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce_eval"><span class="id" title="definition">mr_reduce_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#d"><span class="id" title="variable">d</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_uncoll_collect"><span class="id" title="definition">is_uncoll_collect</span></a> <span class="id" title="tactic">red</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">reduce</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_uncoll_function_arg"><span class="id" title="definition">is_uncoll_function_arg</span></a> <span class="id" title="var">reduce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">op</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="suppress_uncoll_in_collect_reduce"><span class="id" title="definition">suppress_uncoll_in_collect_reduce</span></a> <span class="id" title="tactic">red</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#red"><span class="id" title="variable">red</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_uncoll_function_arg"><span class="id" title="definition">is_uncoll_function_arg</span></a> <span class="id" title="var">f</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">x</span>, <span class="id" title="var">n</span>) := <span class="id" title="var">f</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCLet"><span class="id" title="constructor">NNRCLet</span></a> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">n'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">n'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">op</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="suppress_uncoll_in_collect_reduce_correct"><span class="id" title="lemma">suppress_uncoll_in_collect_reduce_correct</span></a> <span class="id" title="var">reduce</span> <span class="id" title="var">coll</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">reduce'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#reduce_well_formed"><span class="id" title="definition">reduce_well_formed</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#reduce"><span class="id" title="variable">reduce</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_uncoll_collect"><span class="id" title="definition">is_uncoll_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#reduce"><span class="id" title="variable">reduce</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#suppress_uncoll_in_collect_reduce"><span class="id" title="definition">suppress_uncoll_in_collect_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#reduce"><span class="id" title="variable">reduce</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#reduce'"><span class="id" title="variable">reduce'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce_eval"><span class="id" title="definition">mr_reduce_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#reduce"><span class="id" title="variable">reduce</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce_eval"><span class="id" title="definition">mr_reduce_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#reduce'"><span class="id" title="variable">reduce'</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>.<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_id_dist_mr"><span class="id" title="definition">is_id_dist_mr</span></a> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_dist_map"><span class="id" title="definition">is_id_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">reduce</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">op</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_id_dist_mr_correct"><span class="id" title="lemma">is_id_dist_mr_correct</span></a> (<span class="id" title="var">mr</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_dist_mr"><span class="id" title="definition">is_id_dist_mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">loc_d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#map_well_localized"><span class="id" title="definition">map_well_localized</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <span class="id" title="var">coll</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <span class="id" title="var">coll</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> (<span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_id_scalar_mr"><span class="id" title="definition">is_id_scalar_mr</span></a> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">reduce</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">op</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_scalar_map"><span class="id" title="definition">is_id_scalar_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_id_scalar_mr_correct"><span class="id" title="lemma">is_id_scalar_mr_correct</span></a> (<span class="id" title="var">mr</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_scalar_mr"><span class="id" title="definition">is_id_scalar_mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">loc_d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#map_well_localized"><span class="id" title="definition">map_well_localized</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <span class="id" title="var">coll</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_kindofflatten_mr"><span class="id" title="definition">is_kindofflatten_mr</span></a> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_dist_map"><span class="id" title="definition">is_id_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_flatten_collect"><span class="id" title="definition">is_flatten_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_kindofflatten_mr_correct"><span class="id" title="lemma">is_kindofflatten_mr_correct</span></a> (<span class="id" title="var">mr</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) (<span class="id" title="var">loc_d</span>: <a class="idref" href="Qcert.Basic.Data.DData.html#ddata"><span class="id" title="inductive">ddata</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_kindofflatten_mr"><span class="id" title="definition">is_kindofflatten_mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#map_well_localized"><span class="id" title="definition">map_well_localized</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <span class="id" title="var">coll</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Qcert.Basic.Util.RLift.html#lift"><span class="id" title="definition">lift</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="Qcert.Basic.Data.RRelation.html#rflatten"><span class="id" title="definition">rflatten</span></a> <span class="id" title="var">coll</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Qcert.Basic.Util.RLift.html#lift"><span class="id" title="definition">lift</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="Qcert.Basic.Data.RRelation.html#rflatten"><span class="id" title="definition">rflatten</span></a> (<span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_collect_mr"><span class="id" title="definition">is_collect_mr</span></a> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_dist_map"><span class="id" title="definition">is_id_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_collect"><span class="id" title="definition">is_id_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mr_collect_collects"><span class="id" title="lemma">mr_collect_collects</span></a> (<span class="id" title="var">mr</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) (<span class="id" title="var">loc_d</span>:<a class="idref" href="Qcert.Basic.Data.DData.html#ddata"><span class="id" title="inductive">ddata</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_collect_mr"><span class="id" title="definition">is_collect_mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#map_well_localized"><span class="id" title="definition">map_well_localized</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <span class="id" title="var">coll</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <span class="id" title="var">coll</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> (<span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_dispatch_mr"><span class="id" title="definition">is_dispatch_mr</span></a> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedId"><span class="id" title="constructor">RedId</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_dispatch_map"><span class="id" title="definition">is_dispatch_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <span class="id" title="var">reduce</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedOp"><span class="id" title="constructor">RedOp</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedSingleton"><span class="id" title="constructor">RedSingleton</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mr_dispatch_correct"><span class="id" title="lemma">mr_dispatch_correct</span></a> (<span class="id" title="var">mr</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) (<span class="id" title="var">coll</span>:<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.Basic.Data.RData.html#data"><span class="id" title="inductive">data</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_dispatch_mr"><span class="id" title="definition">is_dispatch_mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_eval"><span class="id" title="definition">mr_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Dlocal"><span class="id" title="constructor">Dlocal</span></a> (<a class="idref" href="Qcert.Basic.Data.RData.html#dcoll"><span class="id" title="constructor">dcoll</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.Basic.Data.DData.html#Ddistr"><span class="id" title="constructor">Ddistr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#coll"><span class="id" title="variable">coll</span></a>).<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map_collect_flatten_to_map_flatten_collect"><span class="id" title="definition">map_collect_flatten_to_map_flatten_collect</span></a> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDist"><span class="id" title="constructor">MapDist</span></a> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_flatten_collect"><span class="id" title="definition">is_flatten_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDistFlatten"><span class="id" title="constructor">MapDistFlatten</span></a> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#RedCollect"><span class="id" title="constructor">RedCollect</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#id_function"><span class="id" title="definition">id_function</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr'"><span class="id" title="variable">mr'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_collect_flatten_to_map_flatten_collect_correct"><span class="id" title="lemma">map_collect_flatten_to_map_flatten_collect_correct</span></a> <span class="id" title="var">mr</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">mr_chain</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map_collect_flatten_to_map_flatten_collect"><span class="id" title="definition">map_collect_flatten_to_map_flatten_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_chain"><span class="id" title="variable">mr_chain</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">env</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain_eval"><span class="id" title="definition">mr_chain_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#env"><span class="id" title="variable">env</span></a> (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain_eval"><span class="id" title="definition">mr_chain_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#env"><span class="id" title="variable">env</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_chain"><span class="id" title="variable">mr_chain</span></a>.<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_correct"><span class="id" title="definition">merge_correct</span></a> (<span class="id" title="var">mf</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">m3</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mf"><span class="id" title="variable">mf</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">loc_d</span>: <a class="idref" href="Qcert.Basic.Data.DData.html#ddata"><span class="id" title="inductive">ddata</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#map_well_localized"><span class="id" title="definition">map_well_localized</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#get_mr_chain_result"><span class="id" title="definition">get_mr_chain_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain_eval"><span class="id" title="definition">mr_chain_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#get_mr_chain_result"><span class="id" title="definition">get_mr_chain_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain_eval"><span class="id" title="definition">mr_chain_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m3"><span class="id" title="variable">m3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_correct_weak"><span class="id" title="definition">merge_correct_weak</span></a> (<span class="id" title="var">mf</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mf"><span class="id" title="variable">mf</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">loc_d</span>: <a class="idref" href="Qcert.Basic.Data.DData.html#ddata"><span class="id" title="inductive">ddata</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">result</span>: <a class="idref" href="Qcert.Basic.Data.RData.html#data"><span class="id" title="inductive">data</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#map_well_localized"><span class="id" title="definition">map_well_localized</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#get_mr_chain_result"><span class="id" title="definition">get_mr_chain_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain_eval"><span class="id" title="definition">mr_chain_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#result"><span class="id" title="variable">result</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#get_mr_chain_result"><span class="id" title="definition">get_mr_chain_result</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain_eval"><span class="id" title="definition">mr_chain_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m1"><span class="id" title="variable">m1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#m3"><span class="id" title="variable">m3</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#result"><span class="id" title="variable">result</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_collect_dispatch"><span class="id" title="definition">merge_collect_dispatch</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_collect"><span class="id" title="definition">is_id_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_dispatch_map"><span class="id" title="definition">is_dispatch_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_collect_dispatch_correct"><span class="id" title="lemma">merge_collect_dispatch_correct</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_correct"><span class="id" title="definition">merge_correct</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_collect_dispatch"><span class="id" title="definition">merge_collect_dispatch</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_mr_id_dist_l"><span class="id" title="definition">merge_mr_id_dist_l</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_dist_mr"><span class="id" title="definition">is_id_dist_mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_mr_id_dist_l_correct"><span class="id" title="lemma">merge_mr_id_dist_l_correct</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_correct"><span class="id" title="definition">merge_correct</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_mr_id_dist_l"><span class="id" title="definition">merge_mr_id_dist_l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_mr_id_scalar_l"><span class="id" title="definition">merge_mr_id_scalar_l</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_scalar_mr"><span class="id" title="definition">is_id_scalar_mr</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_mr_id_scalar_l_correct"><span class="id" title="lemma">merge_mr_id_scalar_l_correct</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_correct"><span class="id" title="definition">merge_correct</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_mr_id_scalar_l"><span class="id" title="definition">merge_mr_id_scalar_l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_id_reduce_id_dist_map"><span class="id" title="definition">merge_id_reduce_id_dist_map</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_reduce"><span class="id" title="definition">is_id_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_dist_map"><span class="id" title="definition">is_id_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_id_reduce_id_dist_map_correct"><span class="id" title="lemma">merge_id_reduce_id_dist_map_correct</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_correct"><span class="id" title="definition">merge_correct</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_id_reduce_id_dist_map"><span class="id" title="definition">merge_id_reduce_id_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_singleton_reduce_id_scalar_map"><span class="id" title="definition">merge_singleton_reduce_id_scalar_map</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_singleton_reduce"><span class="id" title="definition">is_singleton_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_scalar_map"><span class="id" title="definition">is_id_scalar_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_singleton_reduce_id_scalar_map_correct"><span class="id" title="lemma">merge_singleton_reduce_id_scalar_map_correct</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">loc_d</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map_eval"><span class="id" title="definition">mr_map_eval</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR.h"><span class="id" title="variable">h</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#loc_d"><span class="id" title="variable">loc_d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_correct"><span class="id" title="definition">merge_correct</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_singleton_reduce_id_scalar_map"><span class="id" title="definition">merge_singleton_reduce_id_scalar_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_reduce_id_flatten_map"><span class="id" title="definition">merge_reduce_id_flatten_map</span></a> (<span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDist"><span class="id" title="constructor">MapDist</span></a> <span class="id" title="var">map1</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_id_reduce"><span class="id" title="definition">is_id_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_flatten_dist_map"><span class="id" title="definition">is_flatten_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapDistFlatten"><span class="id" title="constructor">MapDistFlatten</span></a> <span class="id" title="var">map1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_reduce_id_flatten_map_correct"><span class="id" title="lemma">merge_reduce_id_flatten_map_correct</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_correct"><span class="id" title="definition">merge_correct</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_reduce_id_flatten_map"><span class="id" title="definition">merge_reduce_id_flatten_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_scalar_singleton_scalar"><span class="id" title="definition">merge_scalar_singleton_scalar</span></a> (<span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_singleton_reduce"><span class="id" title="definition">is_singleton_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>), <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCUnop"><span class="id" title="constructor">NNRCUnop</span></a> <a class="idref" href="Qcert.Basic.Operators.RUnaryOps.html#AColl"><span class="id" title="constructor">AColl</span></a> <span class="id" title="var">n1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x2</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">n2</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">map</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCLet"><span class="id" title="constructor">NNRCLet</span></a> <span class="id" title="var">x2</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMR"><span class="id" title="constructor">mkMR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map"><span class="id" title="variable">map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_scalar_singleton_scalar_correct"><span class="id" title="lemma">merge_scalar_singleton_scalar_correct</span></a> <span class="id" title="var">mr1</span> <span class="id" title="var">mr2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_well_formed"><span class="id" title="definition">mr_well_formed</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_correct"><span class="id" title="definition">merge_correct</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_scalar_singleton_scalar"><span class="id" title="definition">merge_scalar_singleton_scalar</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a>.<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_mr_last"><span class="id" title="definition">merge_mr_last</span></a> <span class="id" title="var">mr</span> (<span class="id" title="var">last</span>: (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#nnrc"><span class="id" title="inductive">nnrc</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Qcert.Basic.Data.DData.html#dlocalization"><span class="id" title="inductive">dlocalization</span></a>)) ) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><span class="id" title="var">params</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a> <span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#last"><span class="id" title="variable">last</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">params</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">output</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">Vscalar</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_decb"><span class="id" title="definition">equiv_decb</span></a> <span class="id" title="var">output</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#is_singleton_reduce"><span class="id" title="definition">is_singleton_reduce</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_reduce"><span class="id" title="projection">mr_reduce</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_map"><span class="id" title="projection">mr_map</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#MapScalar"><span class="id" title="constructor">MapScalar</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">x1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCUnop"><span class="id" title="constructor">NNRCUnop</span></a> <a class="idref" href="Qcert.Basic.Operators.RUnaryOps.html#AColl"><span class="id" title="constructor">AColl</span></a> <span class="id" title="var">n1</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCLet"><span class="id" title="constructor">NNRCLet</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCLet"><span class="id" title="constructor">NNRCLet</span></a> <span class="id" title="var">x1</span> (<a class="idref" href="Qcert.NNRC.Core.cNNRC.html#NNRCVar"><span class="id" title="constructor">NNRCVar</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)) <span class="id" title="var">n1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">Vscalar</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="merge_last"><span class="id" title="definition">merge_last</span></a> <span class="id" title="var">mrl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">chain</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">output</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">last</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">mr</span> <span class="id" title="var">chain_output_last</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#chain_output_last"><span class="id" title="variable">chain_output_last</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">last</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_mr_last"><span class="id" title="definition">merge_mr_last</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <span class="id" title="var">last</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">last'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">last'</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">last</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">acc</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">output</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">last</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">acc</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">output</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">last</span><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_last"><span class="id" title="projection">mr_last</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain"><span class="id" title="projection">mr_chain</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">output</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">output</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMRChain"><span class="id" title="constructor">mkMRChain</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_inputs_loc"><span class="id" title="projection">mr_inputs_loc</span></a>) <span class="id" title="var">chain</span> <span class="id" title="var">last</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mr_chain_apply_rewrite"><span class="id" title="definition">mr_chain_apply_rewrite</span></a> (<span class="id" title="var">rew</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>)) <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#flat_map"><span class="id" title="definition">List.flat_map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">mr</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#rew"><span class="id" title="variable">rew</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mr_chain</span> ⇒ <span class="id" title="var">mr_chain</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="apply_rewrite"><span class="id" title="definition">apply_rewrite</span></a> (<span class="id" title="var">rew</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>)) <span class="id" title="var">mrl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMRChain"><span class="id" title="constructor">mkMRChain</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_inputs_loc"><span class="id" title="projection">mr_inputs_loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_chain_apply_rewrite"><span class="id" title="definition">mr_chain_apply_rewrite</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#rew"><span class="id" title="variable">rew</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain"><span class="id" title="projection">mr_chain</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_last"><span class="id" title="projection">mr_last</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mr_chain_apply_merge"><span class="id" title="definition">mr_chain_apply_merge</span></a> (<span class="id" title="var">merge</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">output_vars</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">acc</span> <span class="id" title="var">mr</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">mr1</span> <span class="id" title="var">acc</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Arith.Compare_dec.html#leb"><span class="id" title="abbreviation">leb</span></a> (<a class="idref" href="Qcert.Basic.Data.RBag.html#mult"><span class="id" title="definition">mult</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#output_vars"><span class="id" title="variable">output_vars</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>)) 1 <span class="id" title="keyword">then</span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l_optimized</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">mr2</span> <span class="id" title="var">acc</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge"><span class="id" title="variable">merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr2"><span class="id" title="variable">mr2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#acc"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mr12</span> ⇒ <span class="id" title="var">mr12</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#acc"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#acc"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l_optimized"><span class="id" title="variable">l_optimized</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr1"><span class="id" title="variable">mr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#acc"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="apply_merge"><span class="id" title="definition">apply_merge</span></a> (<span class="id" title="var">merge</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) <span class="id" title="var">mrl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMRChain"><span class="id" title="constructor">mkMRChain</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_inputs_loc"><span class="id" title="projection">mr_inputs_loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_chain_apply_merge"><span class="id" title="definition">mr_chain_apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge"><span class="id" title="variable">merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain"><span class="id" title="projection">mr_chain</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_last"><span class="id" title="projection">mr_last</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="mr_chain_cleanup"><span class="id" title="definition">mr_chain_cleanup</span></a> <span class="id" title="var">l</span> (<span class="id" title="var">to_keep</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">to_keep'</span>, <span class="id" title="var">res</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> (<span class="id" title="var">acc</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr"><span class="id" title="record">mr</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">to_keep</span>, <span class="id" title="var">res</span>) := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#acc"><span class="id" title="variable">acc</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#in_dec"><span class="id" title="lemma">in_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Classes.EquivDec.html#equiv_dec"><span class="id" title="definition">equiv_dec</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#res"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#res"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#res"><span class="id" title="variable">res</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <span class="id" title="var">mrl</span> <span class="id" title="var">to_keep</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mkMRChain"><span class="id" title="constructor">mkMRChain</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_inputs_loc"><span class="id" title="projection">mr_inputs_loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_chain_cleanup"><span class="id" title="definition">mr_chain_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain"><span class="id" title="projection">mr_chain</span></a>) <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_last"><span class="id" title="projection">mr_last</span></a>).<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mr_optimize_step"><span class="id" title="definition">mr_optimize_step</span></a> (<span class="id" title="var">l</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#nnrcmr"><span class="id" title="record">nnrcmr</span></a>): <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#nnrcmr"><span class="id" title="record">nnrcmr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">to_keep</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_last"><span class="id" title="projection">mr_last</span></a>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_rewrite"><span class="id" title="definition">apply_rewrite</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#map_collect_flatten_to_map_flatten_collect"><span class="id" title="definition">map_collect_flatten_to_map_flatten_collect</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_merge"><span class="id" title="definition">apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_id_reduce_id_dist_map"><span class="id" title="definition">merge_id_reduce_id_dist_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_merge"><span class="id" title="definition">apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_singleton_reduce_id_scalar_map"><span class="id" title="definition">merge_singleton_reduce_id_scalar_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_merge"><span class="id" title="definition">apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_reduce_id_flatten_map"><span class="id" title="definition">merge_reduce_id_flatten_map</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_merge"><span class="id" title="definition">apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_collect_dispatch"><span class="id" title="definition">merge_collect_dispatch</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_merge"><span class="id" title="definition">apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_mr_id_dist_l"><span class="id" title="definition">merge_mr_id_dist_l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_merge"><span class="id" title="definition">apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_mr_id_scalar_l"><span class="id" title="definition">merge_mr_id_scalar_l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#apply_merge"><span class="id" title="definition">apply_merge</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_scalar_singleton_scalar"><span class="id" title="definition">merge_scalar_singleton_scalar</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_cleanup"><span class="id" title="definition">mr_cleanup</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#to_keep"><span class="id" title="variable">to_keep</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#merge_last"><span class="id" title="definition">merge_last</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="mr_optimize_loop"><span class="id" title="definition">mr_optimize_loop</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">l</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#nnrcmr"><span class="id" title="record">nnrcmr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_optimize_step"><span class="id" title="definition">mr_optimize_step</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_optimize_loop"><span class="id" title="definition">mr_optimize_loop</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mr_optimize"><span class="id" title="definition">mr_optimize</span></a> (<span class="id" title="var">l</span>: <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#nnrcmr"><span class="id" title="record">nnrcmr</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_optimize_loop"><span class="id" title="definition">mr_optimize_loop</span></a> 10 <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="fresh_mr_var"><span class="id" title="definition">fresh_mr_var</span></a> (<span class="id" title="var">prefix</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<span class="id" title="var">vars</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#var"><span class="id" title="definition">var</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <a class="idref" href="Qcert.Basic.Util.RFresh.html#fresh_var"><span class="id" title="definition">fresh_var</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#prefix"><span class="id" title="variable">prefix</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#vars"><span class="id" title="variable">vars</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#vars"><span class="id" title="variable">vars</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="get_mr_chain_vars"><span class="id" title="definition">get_mr_chain_vars</span></a> <span class="id" title="var">mr_chain</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">acc</span> <span class="id" title="var">mr</span> ⇒ <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_input"><span class="id" title="projection">mr_input</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr"><span class="id" title="variable">mr</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_output"><span class="id" title="projection">mr_output</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#acc"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mr_chain"><span class="id" title="variable">mr_chain</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5pl2/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="get_nnrcmr_vars"><span class="id" title="definition">get_nnrcmr_vars</span></a> <span class="id" title="var">mrl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#get_mr_chain_vars"><span class="id" title="definition">get_mr_chain_vars</span></a> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#mrl"><span class="id" title="variable">mrl</span></a>.(<a class="idref" href="Qcert.NNRCMR.Lang.NNRCMR.html#mr_chain"><span class="id" title="projection">mr_chain</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Qcert.NNRCMR.Optim.NNRCMRRewrite.html#NRewMR"><span class="id" title="section">NRewMR</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>